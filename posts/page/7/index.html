<!doctype html><html lang=en dir=auto>
<head><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=robots content="index, follow">
<title>Posts | Awesome Fenix</title>
<meta name=keywords content>
<meta name=description content="Posts - Awesome Fenix">
<meta name=author content="Fenix">
<link rel=canonical href=https://zhenfeng-zhu.github.io/posts/>
<link crossorigin=anonymous href=/assets/css/stylesheet.min.c88963fe2d79462000fd0fb1b3737783c32855d340583e4523343f8735c787f0.css integrity="sha256-yIlj/i15RiAA/Q+xs3N3g8MoVdNAWD5FIzQ/hzXHh/A=" rel="preload stylesheet" as=style>
<link rel=icon href=https://zhenfeng-zhu.github.io/favicon.ico>
<link rel=icon type=image/png sizes=16x16 href=https://zhenfeng-zhu.github.io/favicon-16x16.png>
<link rel=icon type=image/png sizes=32x32 href=https://zhenfeng-zhu.github.io/favicon-32x32.png>
<link rel=apple-touch-icon href=https://zhenfeng-zhu.github.io/apple-touch-icon.png>
<link rel=mask-icon href=https://zhenfeng-zhu.github.io/safari-pinned-tab.svg>
<meta name=theme-color content="#2e2e33">
<meta name=msapplication-TileColor content="#2e2e33">
<meta name=generator content="Hugo 0.91.2">
<link rel=alternate type=application/rss+xml href=https://zhenfeng-zhu.github.io/posts/index.xml>
<noscript>
<style>#theme-toggle,.top-link{display:none}</style>
<style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style>
</noscript>
<script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(a,e,f,g,b,c,d){a.GoogleAnalyticsObject=b,a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},a[b].l=1*new Date,c=e.createElement(f),d=e.getElementsByTagName(f)[0],c.async=1,c.src=g,d.parentNode.insertBefore(c,d)}(window,document,'script','https://www.google-analytics.com/analytics.js','ga'),ga('create','UA-216295420-1','auto'),ga('send','pageview'))</script><meta property="og:title" content="Posts">
<meta property="og:description" content="Theme PaperMod - https://github.com/adityatelange/hugo-PaperMod">
<meta property="og:type" content="website">
<meta property="og:url" content="https://zhenfeng-zhu.github.io/posts/"><meta property="og:image" content="https://zhenfeng-zhu.github.io/papermod-cover.png">
<meta name=twitter:card content="summary_large_image">
<meta name=twitter:image content="https://zhenfeng-zhu.github.io/papermod-cover.png">
<meta name=twitter:title content="Posts">
<meta name=twitter:description content="Theme PaperMod - https://github.com/adityatelange/hugo-PaperMod">
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://zhenfeng-zhu.github.io/posts/"}]}</script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8502076734034112" crossorigin=anonymous></script>
</head>
<body class=list id=top>
<script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script>
<header class=header>
<nav class=nav>
<div class=logo>
<a href=https://zhenfeng-zhu.github.io accesskey=h title="Awesome Fenix (Alt + H)">Awesome Fenix</a>
<span class=logo-switches>
<button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
</button>
</span>
</div>
<ul id=menu>
<li>
<a href=https://zhenfeng-zhu.github.io/archives/ title=Archives>
<span>Archives</span>
</a>
</li>
<li>
<a href=https://zhenfeng-zhu.github.io/tags/ title=Tags>
<span>Tags</span>
</a>
</li>
<li>
<a href=https://zhenfeng-zhu.github.io/about title=About>
<span>About</span>
</a>
</li>
<li>
<a href=https://zhenfeng-zhu.github.io/search/ title=ğŸ”>
<span>ğŸ”</span>
</a>
</li>
</ul>
</nav>
</header>
<main class=main>
<header class=page-header><div class=breadcrumbs><a href=https://zhenfeng-zhu.github.io>Home</a></div>
<h1>Posts</h1>
</header>
<article class=post-entry>
<header class=entry-header>
<h2>nats ç®€ä»‹
</h2>
</header>
<section class=entry-content>
<p>nats æ˜¯ä¸€ä¸ªå¼€æºçš„ï¼Œäº‘åŸç”Ÿçš„æ¶ˆæ¯ç³»ç»Ÿã€‚Apceraï¼Œç™¾åº¦ï¼Œè¥¿é—¨å­ï¼ŒVMwareï¼ŒHTC å’Œçˆ±ç«‹ä¿¡ç­‰å…¬å¸éƒ½æœ‰åœ¨ä½¿ç”¨ã€‚
æ ¸å¿ƒåŸºäº EventMachine å¼€å‘ï¼ŒåŸç†æ˜¯åŸºäºæ¶ˆæ¯å‘å¸ƒè®¢é˜…æœºåˆ¶ï¼Œæ¯å°æœåŠ¡å™¨ä¸Šçš„æ¯ä¸ªæ¨¡å—ä¼šæ ¹æ®è‡ªå·±çš„æ¶ˆæ¯ç±»åˆ«å‘ MessageBus å‘å¸ƒå¤šä¸ªæ¶ˆæ¯ä¸»é¢˜ï¼Œè€ŒåŒæ—¶ä¹Ÿå‘è‡ªå·±éœ€è¦äº¤äº’çš„æ¨¡å—ï¼ŒæŒ‰ç…§éœ€è¦çš„ä¸»é¢˜è®¢é˜…æ¶ˆæ¯ã€‚èƒ½å¤Ÿè¾¾åˆ°æ¯ç§’ 8-11 ç™¾ä¸‡ä¸ªæ¶ˆæ¯ï¼Œæ•´ä¸ªç¨‹åºå¾ˆå°åªæœ‰ 3M Docker imageï¼Œå®ƒä¸æ”¯æŒæŒä¹…åŒ–æ¶ˆæ¯ï¼Œå¦‚æœä½ ç¦»çº¿ï¼Œä½ å°±ä¸èƒ½è·å¾—æ¶ˆæ¯ã€‚ä½¿ç”¨ nats streaming å¯ä»¥åšåˆ°æŒä¹…åŒ–ï¼Œç¼“å­˜ç­‰åŠŸèƒ½ã€‚
NATS server nats æä¾›äº†ä¸€ä¸ª go ç¼–å†™çš„è½»é‡çº§æœåŠ¡å™¨ã€‚å‘è¡Œç‰ˆåŒ…æ‹¬äºŒè¿›åˆ¶å’Œ docker é•œåƒ
NATS clients
nats å®˜æ–¹æä¾›çš„å®¢æˆ·ç«¯æœ‰ Goï¼ŒNodeï¼ŒRubyï¼ŒJavaï¼ŒCï¼ŒCï¼ƒï¼ŒNGINX ç­‰ã€‚
NATS è®¾è®¡ç›®æ ‡
æ ¸å¿ƒåŸåˆ™æ˜¯æ€§èƒ½ï¼Œå¯ä¼¸ç¼©å’Œæ˜“ç”¨æ€§ã€‚
é«˜æ•ˆ å§‹ç»ˆåœ¨çº¿å’Œå¯ç”¨ éå¸¸è½»å·§ æ”¯æŒå¤šç§è´¨é‡çš„æœåŠ¡ æ”¯æŒå„ç§æ¶ˆæ¯ä¼ é€’æ¨¡å‹å’Œä½¿ç”¨åœºæ™¯ NATS ä½¿ç”¨åœºæ™¯ nats æ˜¯ä¸€ä¸ªç®€å•ä¸”å¼ºå¤§çš„æ¶ˆæ¯ç³»ç»Ÿï¼Œä¸ºæ”¯æŒç°ä»£äº‘åŸç”Ÿæ¶æ„è®¾è®¡ã€‚ç”±äºå¯ä¼¸ç¼©æ€§çš„å¤æ‚æ€§ï¼Œnats æ—¨åœ¨å®¹æ˜“ä½¿ç”¨å’Œå®ç°ï¼Œä¸”èƒ½æä¾›å¤šç§è´¨é‡çš„æœåŠ¡ã€‚
ä¸€äº›é€‚ç”¨ nats çš„åœºæ™¯æœ‰ï¼š
é«˜ååé‡çš„æ¶ˆæ¯åˆ†æ•£ â€”â€” å°‘æ•°çš„ç”Ÿäº§è€…éœ€è¦å°†æ•°æ®å‘é€ç»™å¾ˆå¤šçš„æ¶ˆè´¹è€…ã€‚ å¯»å€å’Œå‘ç° â€”â€” å°†æ•°æ®å‘é€ç»™ç‰¹å®šçš„åº”ç”¨å®ä¾‹ï¼Œè®¾å¤‡æˆ–è€…ç”¨æˆ·ï¼Œä¹Ÿå¯ç”¨äºå‘ç°å¹¶è¿æ¥åˆ°åŸºç¡€æ¶æ„ä¸­çš„å®ä¾‹ï¼Œè®¾å¤‡æˆ–ç”¨æˆ·ã€‚ å‘½ä»¤å’Œæ§åˆ¶ï¼ˆæ§åˆ¶é¢æ¿ï¼‰â€”â€” å‘ç¨‹åºæˆ–è®¾å¤‡å‘é€æŒ‡ä»¤ï¼Œå¹¶ä»ç¨‹åº/è®¾å¤‡ä¸­æ¥æ”¶çŠ¶æ€ï¼Œå¦‚ SCADAï¼Œå«æ˜Ÿé¥æ„Ÿï¼Œç‰©è”ç½‘ç­‰ã€‚ è´Ÿè½½å‡è¡¡ â€”â€” ä¸»è¦åº”ç”¨äºç¨‹åºä¼šç”Ÿæˆå¤§é‡çš„è¯·æ±‚ï¼Œä¸”å¯åŠ¨æ€ä¼¸ç¼©ç¨‹åºå®ä¾‹ã€‚ N è·¯å¯æ‰©å±•æ€§ â€”â€” é€šä¿¡åŸºç¡€æ¶æ„èƒ½å¤Ÿå……åˆ†åˆ©ç”¨ go çš„é«˜æ•ˆå¹¶å‘/è°ƒåº¦æœºåˆ¶ï¼Œä»¥å¢å¼ºæ°´å¹³å’Œå‚ç›´çš„æ‰©å±•æ€§ã€‚ ä½ç½®é€æ˜ â€”â€” ç¨‹åºåœ¨å„ä¸ªåœ°ç†ä½ç½®ä¸Šåˆ†å¸ƒè€…å¤§é‡å®ä¾‹ï¼Œä¸”ä½ æ— æ³•äº†è§£åˆ°ç¨‹åºä¹‹é—´çš„ç«¯ç‚¹é…ç½®è¯¦æƒ…ï¼ŒåŠä»–ä»¬æ‰€ç”Ÿäº§æˆ–æ¶ˆè´¹çš„æ•°æ®ã€‚ å®¹é”™ ä½¿ç”¨ nats-streaming çš„é™„åŠ åœºæ™¯æœ‰ï¼š...</p>
</section>
<footer class=entry-footer><span title="2018-07-30 11:15:39 +0000 UTC">July 30, 2018</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;Fenix</footer>
<a class=entry-link aria-label="post link to nats ç®€ä»‹" href=https://zhenfeng-zhu.github.io/posts/nats/></a>
</article>
<article class=post-entry>
<figure class=entry-cover><img loading=lazy src=https://github.com/openfaas/media/raw/master/OpenFaaS_Magnet_3_1_png.png alt>
</figure>
<header class=entry-header>
<h2>overview-of-openfaas
</h2>
</header>
<section class=entry-content>
<p>OpenFaaS æ¦‚è§ˆ æ— æœåŠ¡å™¨å‡½æ•°å˜å¾—ç®€å•ã€‚
å‡½æ•°ç›‘è§†å™¨ ä½ å¯ä»¥é€šè¿‡æ·»åŠ å‡½æ•°ç›‘è§†å™¨ (ä¸€ä¸ªå°å‹çš„ Golang HTTP æœåŠ¡)æŠŠä»»ä½•ä¸€ä¸ª Docker é•œåƒå˜æˆæ— æœåŠ¡å™¨å‡½æ•°ã€‚ å‡½æ•°ç›‘è§†å™¨æ˜¯å…è®¸ HTTP è¯·æ±‚é€šè¿‡ STDIN è½¬å‘åˆ°ç›®æ ‡è¿›ç¨‹çš„å…¥å£ç‚¹ã€‚å“åº”ä¼šä»ä½ åº”ç”¨å†™å…¥ STDOUT è¿”å›ç»™è°ƒç”¨è€…ã€‚ API ç½‘å…³/UI é—¨æˆ· API ç½‘å…³ä¸ºä½ çš„å‡½æ•°æä¾›å¤–éƒ¨è·¯ç”±ï¼Œå¹¶é€šè¿‡ Prometheus æ”¶é›†äº‘åŸç”ŸæŒ‡æ ‡ã€‚ ä½ çš„ API ç½‘å…³å°†ä¼šæ ¹æ®éœ€æ±‚æ›´æ”¹ Docker Swarm æˆ– Kubernetes API ä¸­çš„æœåŠ¡å‰¯æœ¬æ•°æ¥å®ç°ä¼¸ç¼©æ€§ã€‚ UI æ˜¯å…è®¸ä½ åœ¨æµè§ˆå™¨ä¸­è°ƒç”¨å‡½æ•°æˆ–è€…æ ¹æ®éœ€è¦åˆ›å»ºæ–°çš„å‡½æ•°ã€‚ API ç½‘å…³æ˜¯ä¸€ä¸ª RESTful å½¢å¼çš„å¾®æœåŠ¡ï¼Œä½ å¯ä»¥åœ¨è¿™é‡ŒæŸ¥çœ‹Swagger æ–‡æ¡£ã€‚
å‘½ä»¤è¡Œ Docker ä¸­çš„ä»»ä½•å®¹å™¨æˆ–è€…è¿›ç¨‹éƒ½å¯ä»¥æ˜¯ FaaS ä¸­çš„ä¸€ä¸ªæ— æœåŠ¡å™¨å‡½æ•°ã€‚ä½¿ç”¨FaaS CLI ï¼Œä½ å¯ä»¥å¿«é€Ÿçš„éƒ¨ç½²å‡½æ•°ã€‚
å¯ä»¥ä» Node.js, Python, Go æˆ–è€…æ›´å¤šçš„è¯­è¨€æ¨¡æ¿ä¸­åˆ›å»ºæ–°çš„å‡½æ•°ã€‚å¦‚æœä½ æ— æ³•æ‰¾åˆ°ä¸€ä¸ªåˆé€‚çš„æ¨¡æ¿ï¼Œç”šè‡³å¯ä»¥ä½¿ç”¨ä¸€ä¸ª Dockerfileã€‚
CLI å®é™…ä¸Šæ˜¯ API ç½‘å…³çš„ä¸€ä¸ª RESTful å®¢æˆ·ç«¯ã€‚
åœ¨é…ç½®å¥½ OpenFaaS ä¹‹åï¼Œä½ å¯ä»¥åœ¨è¿™é‡Œå¼€å§‹å­¦ä¹  CLIå¼€å§‹å­¦ä¹  CLI...</p>
</section>
<footer class=entry-footer><span title="2018-07-26 17:41:33 +0000 UTC">July 26, 2018</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;Fenix</footer>
<a class=entry-link aria-label="post link to overview-of-openfaas" href=https://zhenfeng-zhu.github.io/posts/overview-of-openfaas/></a>
</article>
<article class=post-entry>
<figure class=entry-cover><img loading=lazy src=https://github.com/openfaas/media/raw/master/OpenFaaS_Magnet_3_1_png.png alt>
</figure>
<header class=entry-header>
<h2>OpenFaaS on Rancher 2.0
</h2>
</header>
<section class=entry-content>
<p>è¿™æ˜¯ä¸€ç¯‡å…³äºå¦‚ä½•åœ¨ Rancher 2.0 ä¸Šåˆ›å»º OpenFaaS æ ˆçš„æ–‡ç« ã€‚æˆ‘å‡è®¾ä½ å·²ç»å‡†å¤‡å¥½äº† Rancher 2.0 é›†ç¾¤ï¼Œå¦‚æœæ²¡æœ‰è¯·æŒ‰ç…§å®˜æ–¹æ–‡æ¡£åˆ›å»ºä¸€ä¸ªã€‚
ä¸‹é¢çš„è§†é¢‘å±•ç¤ºäº†å¦‚ä½•åˆ›å»º OpenFaaS æ ˆï¼Œå¹¶åœ¨å®é™…ä¸­ä½¿ç”¨ï¼š
https://www.youtube.com/watch?v=kX8mXv5d1qg&feature=youtu.be
è¿™é‡Œæ˜¯åˆ›å»ºæ ˆçš„compose.ymlæ–‡ä»¶ï¼š
version: "2" services: alertmanager: image: functions/alertmanager:latest labels: io.rancher.container.pull_image: always stop_signal: SIGTERM restart: always stdin_open: true tty: true scale: 1 faas-rancher: environment: - CATTLE_URL=${CATTLE_URL} - CATTLE_ACCESS_KEY=${CATTLE_ACCESS_KEY} - CATTLE_SECRET_KEY=${CATTLE_SECRET_KEY} - FUNCTION_STACK_NAME=faas-functions image: kenfdev/faas-rancher:v3 labels: io.rancher.container.pull_image: always stop_signal: SIGTERM restart: always stdin_open: true tty: true scale: 1 gateway: environment: - functions_provider_url=http://faas-rancher:8080/ image: functions/gateway:0.6.6-beta1 labels: io.rancher.container.pull_image: always ports: - 8080:8080/tcp stop_signal: SIGTERM restart: always stdin_open: true tty: true scale: 1 prometheus: command: [-config....</p>
</section>
<footer class=entry-footer><span title="2018-07-26 09:50:46 +0000 UTC">July 26, 2018</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;Fenix</footer>
<a class=entry-link aria-label="post link to OpenFaaS on Rancher 2.0" href=https://zhenfeng-zhu.github.io/posts/openfaas-on-rancher/></a>
</article>
<article class=post-entry>
<figure class=entry-cover><img loading=lazy src=https://github.com/openfaas/media/raw/master/OpenFaaS_Magnet_3_1_png.png alt>
</figure>
<header class=entry-header>
<h2>openfaas-workshop-lab4
</h2>
</header>
<section class=entry-content>
<p>å®éªŒ 4â€“æ›´æ·±å…¥åœ°ä½¿ç”¨å‡½æ•° åœ¨å¼€å§‹æœ¬å®éªŒä¹‹å‰ï¼Œä¸ºä½ çš„æ–‡ä»¶åˆ›å»ºä¸€ä¸ªæ–°çš„æ–‡ä»¶å¤¹ã€‚ç”±äºæœ¬å®éªŒæ˜¯å»ºç«‹åœ¨æ—©æœŸå®éªŒçš„åŸºç¡€ä¸Šçš„ï¼Œæ‰€ä»¥è¯·å¤åˆ¶ lab3ã€‚
$ cp -r lab3 lab4\ && cd lab4 é€šè¿‡ç¯å¢ƒå˜é‡æ³¨å…¥é…ç½® èƒ½å¤Ÿæ§åˆ¶ä¸€ä¸ªå‡½æ•°åœ¨è¿è¡Œæ—¶çš„è¡Œä¸ºæ–¹å¼æ˜¯å¾ˆæœ‰ç”¨çš„ï¼Œæˆ‘ä»¬è‡³å°‘å¯ä»¥é€šè¿‡ä¸¤ç§æ–¹å¼æ¥å®ç°è¿™ä¸€ç‚¹ã€‚
åœ¨éƒ¨ç½²æ—¶ *åœ¨éƒ¨ç½²æ—¶è®¾ç½®ç¯å¢ƒå˜é‡
æˆ‘ä»¬åœ¨Lab 3ä¸­ç”¨write_debugåšäº†è¿™ä¸ª - ä½ ä¹Ÿå¯ä»¥åœ¨è¿™é‡Œè®¾ç½®ä»»ä½•ä½ æƒ³è¦çš„è‡ªå®šä¹‰ç¯å¢ƒå˜é‡ - ä¾‹å¦‚ï¼Œå¦‚æœä½ æƒ³ä¸ºä½ çš„hello worldå‡½æ•°é…ç½®ä¸€ç§è¯­è¨€ï¼Œä½ å¯ä»¥å¼•å…¥ä¸€ä¸ªspoken_languageå˜é‡ã€‚
ä½¿ç”¨ HTTP ä¸Šä¸‹æ–‡â€“querystring / headers *ä½¿ç”¨ querystring å’Œ HTTP headers
å¦ä¸€ä¸ªæ›´åŠ¨æ€çš„ã€å¯ä»¥åœ¨æ¯ä¸ªè¯·æ±‚å±‚é¢ä¸Šæ”¹å˜çš„é€‰é¡¹æ˜¯ä½¿ç”¨æŸ¥è¯¢å­—ç¬¦ä¸²å’Œ HTTP å¤´ä¿¡æ¯ï¼Œä¸¤è€…éƒ½å¯ä»¥é€šè¿‡faas-cliæˆ–curlä¼ é€’ã€‚
è¿™äº›å¤´ä¿¡æ¯é€šè¿‡ç¯å¢ƒå˜é‡æš´éœ²å‡ºæ¥ï¼Œæ‰€ä»¥å®ƒä»¬å¾ˆå®¹æ˜“åœ¨ä½ çš„å‡½æ•°ä¸­è¢«ä½¿ç”¨ã€‚æ‰€ä»¥ä»»ä½•å¤´ä¿¡æ¯éƒ½ä»¥Http_ä¸ºå‰ç¼€ï¼Œæ‰€æœ‰-è¿å­—ç¬¦éƒ½è¢«æ›¿æ¢æˆ_ä¸‹åˆ’çº¿ã€‚
è®©æˆ‘ä»¬ç”¨ querystring å’Œä¸€ä¸ªåˆ—å‡ºæ‰€æœ‰ç¯å¢ƒå˜é‡çš„å‡½æ•°æ¥è¯•è¯•ã€‚
ä½¿ç”¨ BusyBox çš„å†…ç½®å‘½ä»¤ï¼Œéƒ¨ç½²ä¸€ä¸ªæ‰“å°ç¯å¢ƒå˜é‡çš„å‡½æ•°ã€‚ faas-cli deploy --name env --fprocess="env" --image="function/alpine:latest" ç”¨ä¸€ä¸ªæŸ¥è¯¢å­—ç¬¦ä¸²è°ƒç”¨è¯¥å‡½æ•°ã€‚ $ echo "" | faas-cli invoke env --query workshop=1 PATH=/usr/local/bin:/usr/local/bin:/usr/bin:/sbin:/bin HOSTNAME=05e8db360c5a fprocess=env HOME=/root Http_Connection=close Http_Content_Type=text/plain Http_X_Call_Id=cdbed396-a20a-43fe-9123-1d5a122c976d Http_X_Forwarded_For=10....</p>
</section>
<footer class=entry-footer><span title="2018-07-02 09:32:59 +0000 UTC">July 2, 2018</span>&nbsp;Â·&nbsp;4 min&nbsp;Â·&nbsp;Fenix</footer>
<a class=entry-link aria-label="post link to openfaas-workshop-lab4" href=https://zhenfeng-zhu.github.io/posts/openfaas-workshop-lab4/></a>
</article>
<article class=post-entry>
<header class=entry-header>
<h2>ubuntu-docker-sudo
</h2>
</header>
<section class=entry-content>
<p>sudo chown "$USER":"$USER" /home/"$USER"/.docker -R sudo chmod g+rwx "/home/$USER/.docker" -R https://api.finochat.com/api/v1/platform/apps/RETAIL/profiles/@custom:finolabs.com.cn/avatar?jwt=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJmY2lkIjoiQHBjdXN0b20tMTA6Zmlub2xhYnMuY29tLmNuIiwiaXNzIjoieUNkNXVhaWRhWU4zc1pwTTdHU2V5WWVqSGdlN3hSa1EiLCJpYXQiOjE1MzAyNjk5NDh9.UUsO2xw1f8cA6FiG1bNAGyYQh-vh32hKHKSJ2EKZicI http://localhost:3000/api/v1/platform/apps/RETAIL/profiles/@custom:finolabs.com.cn/avatar?jwt=eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJmY2lkIjoiQHBjdXN0b20tMTA6Zmlub2xhYnMuY29tLmNuIiwiaXNzIjoieUNkNXVhaWRhWU4zc1pwTTdHU2V5WWVqSGdlN3hSa1EiLCJpYXQiOjE1MzAyNjk5NDh9.UUsO2xw1f8cA6FiG1bNAGyYQh-vh32hKHKSJ2EKZicI </p>
</section>
<footer class=entry-footer><span title="2018-06-29 13:54:25 +0000 UTC">June 29, 2018</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;Fenix</footer>
<a class=entry-link aria-label="post link to ubuntu-docker-sudo" href=https://zhenfeng-zhu.github.io/posts/ubuntu-docker-sudo/></a>
</article>
<article class=post-entry>
<figure class=entry-cover><img loading=lazy src=https://github.com/openfaas/media/raw/master/OpenFaaS_Magnet_3_1_png.png alt>
</figure>
<header class=entry-header>
<h2>openfaas-workshop-lab3
</h2>
</header>
<section class=entry-content>
<p>å®éªŒ 3â€“å‡½æ•°ä»‹ç» åœ¨å¼€å§‹è¿™ä¸ªå®éªŒä¹‹å‰ï¼Œä¸ºä½ çš„æ–‡ä»¶åˆ›å»ºä¸€ä¸ªæ–°çš„æ–‡ä»¶å¤¹ã€‚
$ mkdir -p lab3\`s && cd lab3 åˆ›å»ºä¸€ä¸ªæ–°çš„å‡½æ•° æœ‰ä¸¤ç§æ–¹æ³•æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„å‡½æ•°ã€‚
ä½¿ç”¨ä¸€ä¸ªå†…ç½®çš„æˆ–ç¤¾åŒºçš„ä»£ç æ¨¡æ¿å»ºç«‹ä¸€ä¸ªå‡½æ•°ï¼ˆé»˜è®¤æƒ…å†µä¸‹ï¼‰ ä½¿ç”¨ä¸€ä¸ªç°æœ‰çš„äºŒè¿›åˆ¶æ–‡ä»¶å¹¶å°†å…¶ä½œä¸ºä½ çš„å‡½æ•°ï¼ˆé«˜çº§ï¼‰ æ„å»ºæˆ–ç”Ÿæˆä¸€ä¸ªæ–°å‡½æ•° åœ¨ç”¨æ¨¡æ¿åˆ›å»ºæ–°å‡½æ•°ä¹‹å‰ï¼Œè¯·ç¡®ä¿ä½ ä» GitHub ä¸Šæå–äº†æ¨¡æ¿ã€‚
$ faas-cli template pull Fetch templates from repository: https://github.com/openfaas/templates.git Attempting to expand templates from https://github.com/openfaas/templates.git 2021/08/25 15:58:10 Fetched 13 template(s) : [csharp dockerfile go java11 java11-vert-x node node12 node14 php7 python python3 python3-debian ruby] from https://github.com/openfaas/templates.git ä¹‹åï¼Œè¦æƒ³çŸ¥é“å“ªäº›è¯­è¨€æ˜¯å¯ç”¨çš„ï¼Œè¯·é”®å…¥ã€‚
$ faas-cli new --list Languages available as templates: - csharp - dockerfile - go - java11 - java11-vert-x - node - node12 - node14 - php7 - python - python3 - python3-debian - ruby æˆ–è€…åˆ›å»ºä¸€ä¸ªåŒ…å«Dockerfileçš„æ–‡ä»¶å¤¹ï¼Œç„¶ååœ¨ YAML æ–‡ä»¶ä¸­é€‰æ‹© Dockerfileè¯­è¨€ç±»å‹ã€‚...</p>
</section>
<footer class=entry-footer><span title="2018-06-28 17:29:56 +0000 UTC">June 28, 2018</span>&nbsp;Â·&nbsp;4 min&nbsp;Â·&nbsp;Fenix</footer>
<a class=entry-link aria-label="post link to openfaas-workshop-lab3" href=https://zhenfeng-zhu.github.io/posts/openfaas-workshop-lab3/></a>
</article>
<article class=post-entry>
<header class=entry-header>
<h2>è¯‘ï¼šopenfaas-workshop-Lab1
</h2>
</header>
<section class=entry-content>
<p>ä»Šå¤©å¤§å¤šæ•°å…¬å¸åœ¨å¼€å‘åº”ç”¨ç¨‹åºå¹¶å°†å…¶éƒ¨ç½²åœ¨æœåŠ¡å™¨ä¸Šçš„æ—¶å€™ï¼Œæ— è®ºæ˜¯é€‰æ‹©å…¬æœ‰äº‘è¿˜æ˜¯ç§æœ‰çš„æ•°æ®ä¸­å¿ƒï¼Œéƒ½éœ€è¦æå‰äº†è§£ç©¶ç«Ÿéœ€è¦å¤šå°‘å°æœåŠ¡å™¨ã€å¤šå¤§å®¹é‡çš„å­˜å‚¨å’Œæ•°æ®åº“çš„åŠŸèƒ½ç­‰ã€‚å¹¶éœ€è¦éƒ¨ç½²è¿è¡Œåº”ç”¨ç¨‹åºå’Œä¾èµ–çš„è½¯ä»¶åˆ°åŸºç¡€è®¾æ–½ä¹‹ä¸Šã€‚å‡è®¾æˆ‘ä»¬ä¸æƒ³åœ¨è¿™äº›ç»†èŠ‚ä¸ŠèŠ±è´¹ç²¾åŠ›ï¼Œæ˜¯å¦æœ‰ä¸€ç§ç®€å•çš„æ¶æ„æ¨¡å‹èƒ½å¤Ÿæ»¡è¶³æˆ‘ä»¬è¿™ç§æƒ³æ³•ï¼Ÿè¿™ä¸ªç­”æ¡ˆå·²ç»å­˜åœ¨ï¼Œè¿™å°±æ˜¯ä»Šå¤©è½¯ä»¶æ¶æ„ä¸–ç•Œä¸­æ–°é²œä½†æ˜¯å¾ˆçƒ­é—¨çš„ä¸€ä¸ªè¯é¢˜â€”â€”Serverlessï¼ˆæ— æœåŠ¡å™¨ï¼‰æ¶æ„ã€‚
ç›®å‰å·²ç»æœ‰ä¸€æ‰¹ä¼˜ç§€çš„ serverless æ¶æ„å¼€æºé¡¹ç›®ï¼ŒOpenFaas å°±æ˜¯å…¶ä¸­çš„ä½¼ä½¼è€…ã€‚å¥ˆä½•å…¶ä¸­çš„ä¸­æ–‡èµ„æ–™æ¯”è¾ƒå°‘ï¼Œæˆ‘ä¹Ÿæ˜¯è¾¹å­¦è¾¹ç¿»è¯‘ï¼Œå¸Œæœ›èƒ½å¤ŸæŠ›ç –å¼•ç‰ï¼ŒåŠ©åŠ› serverless çš„å‘å±•ã€‚
è¿™æ˜¯ä¸€ä¸ªè‡ªå­¦ç ”è®¨ä¼šï¼Œå­¦ä¹ å¦‚ä½•æ„å»ºã€éƒ¨ç½²å’Œè¿è¡Œ OpenFaas å‡½æ•°ã€‚
Lab1 - OpenFaas çš„å‡†å¤‡å·¥ä½œ OpenFaas å¯ä»¥åœ¨ Docker Swarm å’Œ Kubernetes çš„è¿‡å‡ ä¸ªä¸»è¦å¹³å°ä¹‹ä¸Šè¿è¡Œã€‚åœ¨æ­¤æ•™ç¨‹é‡Œï¼Œæˆ‘ä»¬å°†ä¼šåœ¨çš„æ‚¨æœ¬åœ°ç”µè„‘ä½¿ç”¨ Docker Swarm æ¥å…¥é—¨ã€‚
é¢„å¤‡æ¡ä»¶ Docker Mac
Docker CE for Mac Edge Edition Windows
ä»…é’ˆå¯¹ windows10 ä¸“ä¸šç‰ˆæˆ–ä¼ä¸šç‰ˆ å®‰è£…Docker CE for Windows å®‰è£…Git Bash å¤‡æ³¨ï¼šæ‰€æœ‰æ­¥éª¤ä¸­è¯·ä½¿ç”¨ Git Bashï¼šä¸è¦å°è¯•ä½¿ç”¨ WSL æˆ– Bash for Windowsã€‚
Linux - Ubuntu æˆ– Debian
Docker CE for Linux ä½ å¯ä»¥ä»Docker Storeä¸­å®‰è£… Docker CE...</p>
</section>
<footer class=entry-footer><span title="2018-06-25 18:04:09 +0000 UTC">June 25, 2018</span>&nbsp;Â·&nbsp;2 min&nbsp;Â·&nbsp;Fenix</footer>
<a class=entry-link aria-label="post link to è¯‘ï¼šopenfaas-workshop-Lab1" href=https://zhenfeng-zhu.github.io/posts/workshop-lab1/></a>
</article>
<article class=post-entry>
<figure class=entry-cover><img loading=lazy src=https://github.com/openfaas/media/raw/master/OpenFaaS_Magnet_3_1_png.png alt>
</figure>
<header class=entry-header>
<h2>openfaas
</h2>
</header>
<section class=entry-content>
<p>å¯¹äº mac ç¯å¢ƒæ¥è®²ï¼Œé¦–å…ˆå®‰è£…æ–°ç‰ˆ docker:
brew cask install docker ç„¶åå¯åŠ¨ dockerã€‚
å‘½ä»¤è¡Œç™»é™† docker hub
docker login å¯åŠ¨ docker swarm
docker swarm init å®‰è£… faas-cli
brew install faas-cli clone ä¸‹æ¥ä»£ç ï¼š
git clone https://github.com/openfaas/faas ç„¶åæ‰§è¡Œ
./deploy_stack.sh éƒ¨ç½²ä¸€äº›ç¤ºä¾‹
faas-cli deploy -f https://raw.githubusercontent.com/openfaas/faas/master/stack.yml ä½¿ç”¨æµè§ˆå™¨æ‰“å¼€ http://127.0.0.1:8080 å°±å¯ä»¥çœ‹åˆ° ui ç•Œé¢äº†ã€‚
å®‰è£… grafana è¿›è¡Œç›‘æ§
docker service create -d \ --name=grafana \ --publish=3000:3000 \ --network=func_functions \ stefanprodan/faas-grafana:4.6.3 æµè§ˆå™¨æ‰“å¼€ï¼š http://127.0.0.1:3000 ç™»é™† admin admin æŸ¥çœ‹ã€‚
å¸¸ç”¨å‘½ä»¤ï¼š
$ faas-cli new --list $ faas-cli build -f ....</p>
</section>
<footer class=entry-footer><span title="2018-06-24 15:43:46 +0000 UTC">June 24, 2018</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;Fenix</footer>
<a class=entry-link aria-label="post link to openfaas" href=https://zhenfeng-zhu.github.io/posts/openfaas/></a>
</article>
<article class=post-entry>
<header class=entry-header>
<h2>java-reactive-web
</h2>
</header>
<section class=entry-content>
<p>Spring web mvcï¼š ä¼ ç»Ÿ servlet web
spring web fluxï¼š Reactive web
ç¼–ç¨‹æ¨¡å¼ï¼š non-blocking éé˜»å¡ nioï¼šåŒæ­¥ï¼Ÿå¼‚æ­¥ï¼Ÿ å¹¶è¡Œæ¨¡å‹ sync åŒæ­¥ async å¼‚æ­¥ Reactive æ¦‚å¿µ Reactive programmingï¼š å“åº”å¼ç¼–ç¨‹
InÂ computing,Â reactive programmingÂ is a declarativeÂ programming paradigmÂ concerned withÂ data streamsÂ and the propagation of change. With this paradigm it is possible to express static (e.g. arrays) or dynamic (e.g. event emitters)Â data streamsÂ with ease, and also communicate that an inferred dependency within the associatedÂ execution modelÂ exists, which facilitates the automatic propagation of the changed data flow....</p>
</section>
<footer class=entry-footer><span title="2018-06-23 15:05:32 +0000 UTC">June 23, 2018</span>&nbsp;Â·&nbsp;2 min&nbsp;Â·&nbsp;Fenix</footer>
<a class=entry-link aria-label="post link to java-reactive-web" href=https://zhenfeng-zhu.github.io/posts/java-reactive-web/></a>
</article>
<article class=post-entry>
<header class=entry-header>
<h2>kafka
</h2>
</header>
<section class=entry-content>
<p>å¯åŠ¨ zookeeper
bin/zookeeper-server-start.sh config/zookeeper.properties å¯åŠ¨ kafka
bin/kafka-server-start.sh config/server.properties åˆ›å»ºä¸€ä¸ªä¸»é¢˜
bin/kafka-topics.sh --create --zookeeper localhost:2181 --replication-factor 1 --partitions 1 --topic test bin/kafka-topics.sh --list --zookeeper localhost:2181 ç”Ÿäº§è€…
bin/kafka-console-producer.sh --broker-list localhost:9092 --topic test æ¶ˆè´¹è€…
bin/kafka-console-consumer.sh --bootstrap-server localhost:9092 --topic test --from-beginning kafka connect
echo -e "zhisheng\ntian" > test.txt ls
zhuzhenfengdeMacBook-Proâœ kafka_2.12-1.1.0 á… echo -e "zhisheng\ntian" > test.txt zhuzhenfengdeMacBook-Proâœ kafka_2.12-1.1.0 á… zhuzhenfengdeMacBook-Proâœ kafka_2.12-1.1.0 á… ls LICENSE NOTICE bin config libs logs site-docs test.txt zhuzhenfengdeMacBook-Proâœ kafka_2.12-1.1.0 á… å¯åŠ¨è¿æ¥å™¨...</p>
</section>
<footer class=entry-footer><span title="2018-06-21 17:49:46 +0000 UTC">June 21, 2018</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;Fenix</footer>
<a class=entry-link aria-label="post link to kafka" href=https://zhenfeng-zhu.github.io/posts/kafka/></a>
</article>
<footer class=page-footer>
<nav class=pagination>
<a class=prev href=https://zhenfeng-zhu.github.io/posts/page/6/>Â« Prev Page</a>
<a class=next href=https://zhenfeng-zhu.github.io/posts/page/8/>Next Page Â»</a>
</nav>
</footer>
</main>
<footer class=footer>
<span>&copy; 2022 <a href=https://zhenfeng-zhu.github.io>Awesome Fenix</a></span>
<span>
Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a>
</span>
</footer>
<a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a>
<script>let menu=document.getElementById('menu');menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})})</script>
<script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script>
<script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script>
</body>
</html>