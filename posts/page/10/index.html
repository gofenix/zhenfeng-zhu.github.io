<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Posts | Go Data</title><meta name=keywords content><meta name=description content="Theme PaperMod - https://github.com/adityatelange/hugo-PaperMod"><meta name=author content="Lucas"><link rel=canonical href=https://zhenfeng-zhu.github.io/posts/><link href=/assets/css/stylesheet.min.3839cf02b87f30309470412461116907caabd1b3ec3f5d015df618da2d034992.css integrity="sha256-ODnPArh/MDCUcEEkYRFpB8qr0bPsP10BXfYY2i0DSZI=" rel="preload stylesheet" as=style><link rel=icon href=https://zhenfeng-zhu.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://zhenfeng-zhu.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://zhenfeng-zhu.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://zhenfeng-zhu.github.io/apple-touch-icon.png><link rel=mask-icon href=https://zhenfeng-zhu.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.80.0"><link rel=alternate type=application/rss+xml href=https://zhenfeng-zhu.github.io/posts/index.xml><meta property="og:title" content="Posts"><meta property="og:description" content="Theme PaperMod - https://github.com/adityatelange/hugo-PaperMod"><meta property="og:type" content="website"><meta property="og:url" content="https://zhenfeng-zhu.github.io/posts/"><meta property="og:image" content="https://zhenfeng-zhu.github.io/papermod-cover.png"><meta property="og:updated_time" content="2020-11-20T16:01:49+08:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://zhenfeng-zhu.github.io/papermod-cover.png"><meta name=twitter:title content="Posts"><meta name=twitter:description content="Theme PaperMod - https://github.com/adityatelange/hugo-PaperMod"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://zhenfeng-zhu.github.io/posts/"}]}</script></head><body class=list id=top><script>if(localStorage.getItem("pref-theme")==="dark"){document.body.classList.add('dark');}else if(localStorage.getItem("pref-theme")==="light"){document.body.classList.remove('dark')}else if(window.matchMedia('(prefers-color-scheme: dark)').matches){document.body.classList.add('dark');}</script><noscript><style type=text/css>#theme-toggle,.top-link{display:none}</style></noscript><header class=header><nav class=nav><div class=logo><a href=https://zhenfeng-zhu.github.io accesskey=h title="Go Data (Alt + H)">Go Data</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu onscroll=menu_on_scroll()><li><a href=https://zhenfeng-zhu.github.io/about title=About><span>About</span></a></li><li><a href=https://zhenfeng-zhu.github.io/search/ title=ğŸ”><span>ğŸ”</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://zhenfeng-zhu.github.io>Home</a></div><h1>Posts</h1></header><article class=post-entry><header class=entry-header><h2>gitå¸¸ç”¨æ“ä½œ</h2></header><section class=entry-content><p>æ•´ç†ä¸€ä¸‹å¸¸ç”¨çš„gitæ“ä½œï¼Œä¸ç”¨å†åˆ°å¤„æ‰¾äº†ã€‚
gitæ”¾å¼ƒæœ¬åœ°ä¿®æ”¹ï¼Œå¼ºåˆ¶æ›´æ–° git fetch --all git reset --hard origin/master gitä¿®æ”¹è¿œç¨‹ä»“åº“åœ°å€ git remote set-url origin url cherry-pick å½“ä½ é€šè¿‡ä¸€ç•ªæŒ£æ‰ç»ˆäºæå®šä¸€ä¸ªbug,é¡ºæ‰‹æäº¤åˆ° git æœåŠ¡å™¨,å¿ƒé‡Œä¸€é˜µæš—çˆ½. è¿™æ—¶å‘ç°ä½ å½“å‰æ‰€åœ¨çš„åˆ†æ”¯æ˜¯ master !!!
è¿™ä¸ªåˆ†æ”¯ä¸æ˜¯å¼€å‘è€…ç”¨æ¥æäº¤ä»£ç çš„,å¯æƒœç°åœ¨å‰æ‰‹ä¹Ÿæ™šäº†.
å…ˆåˆ‡æ¢åˆ°master git checkout master git log å¤åˆ¶æäº¤çš„commit id
åˆ‡æ¢åˆ°dev, cherry-pick
git checkout dev git cherry-pic ${commit_id} å¸¸ç”¨å¼€å‘æµç¨‹ git checkout -b feature1
git commitä¹‹åï¼Œè¿›è¡Œrebase
git pull â€“rebase
gca!
git rvm...</p></section><footer class=entry-footer>May 14, 2018&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;Lucas</footer><a class=entry-link aria-label="post link to gitå¸¸ç”¨æ“ä½œ" href=https://zhenfeng-zhu.github.io/posts/git/></a></article><article class=post-entry><header class=entry-header><h2>nodeçš„cluster</h2></header><section class=entry-content><p>æˆ‘ä»¬çŸ¥é“jsæ˜¯è¿è¡Œå•çº¿ç¨‹çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸€ä¸ªnodeè¿›ç¨‹åªèƒ½è¿è¡Œåœ¨ä¸€ä¸ªcpuä¸Šã€‚é‚£ä¹ˆå¦‚æœç”¨nodeæ¥åšweb serverçš„è¯ï¼Œå°±æ— æ³•äº«å—åˆ°å¤šæ ¸è¿ç®—çš„å¥½å¤„ã€‚
ä¸€ä¸ªé—®é¢˜å°±æ˜¯ï¼š
å¦‚ä½•æ¦¨å¹²æœåŠ¡å™¨èµ„æºï¼Œåˆ©ç”¨å¤šæ ¸CPUçš„å¹¶å‘ä¼˜åŠ¿ã€‚ nodeå®˜æ–¹æä¾›çš„è§£å†³æ–¹æ¡ˆæ˜¯clusterã€‚
1 clusteræ˜¯ä»€ä¹ˆ ç®€å•æ¥è¯´ï¼š
åœ¨æœåŠ¡å™¨ä¸ŠåŒæ—¶å¯åŠ¨å¤šä¸ªè¿›ç¨‹ã€‚ æ¯ä¸ªè¿›ç¨‹éƒ½è·‘çš„æ˜¯åŒä¸€ä»½æºç ã€‚ è¿™äº›è¿›ç¨‹å¯ä»¥åŒæ—¶ç›‘å¬ä¸€ä¸ªç«¯å£ã€‚ å…¶ä¸­ï¼š
è´Ÿè´£å¯åŠ¨å…¶ä»–è¿›ç¨‹çš„å«åšmasterè¿›ç¨‹ï¼Œä¸åšå…·ä½“å·¥ä½œï¼Œåªè´Ÿè´£å¯åŠ¨å…¶ä»–è¿›ç¨‹ã€‚ å…¶ä»–è¢«å¯åŠ¨çš„å«workerè¿›ç¨‹ã€‚ä»–ä»¬æ¥æ”¶è¯·æ±‚ï¼Œå¯¹å¤–æä¾›æœåŠ¡ã€‚ workerè¿›ç¨‹çš„æ•°é‡ä¸€èˆ¬æ ¹æ®æœåŠ¡å™¨çš„cpuæ ¸æ•°æ¥å†³å®šï¼Œè¿™æ ·å°±å¯ä»¥å®Œç¾åˆ©ç”¨å¤šæ ¸èµ„æºã€‚ ä»¥ä¸‹æ˜¯å®˜æ–¹æ–‡æ¡£çš„ä¸€ä¸ªä¾‹å­ï¼š
const cluster = require('cluster'); const http = require('http'); const numCPUs = require('os').cpus().length; if (cluster.isMaster) { console.log(`ä¸»è¿›ç¨‹ ${process.pid} æ­£åœ¨è¿è¡Œ`); // è¡ç”Ÿå·¥ä½œè¿›ç¨‹ã€‚ for (let i = 0; i &lt; numCPUs; i++) { cluster.fork(); } cluster.on('exit', (worker, code, signal) => { console.log(`å·¥ä½œè¿›ç¨‹ ${worker.process.pid} å·²é€€å‡º`); }); } else { // å·¥ä½œè¿›ç¨‹å¯ä»¥å…±äº«ä»»ä½• TCP è¿æ¥ã€‚ // åœ¨æœ¬ä¾‹å­ä¸­ï¼Œå…±äº«çš„æ˜¯ä¸€ä¸ª HTTP æœåŠ¡å™¨ã€‚ http....</p></section><footer class=entry-footer>May 5, 2018&nbsp;Â·&nbsp;2 min&nbsp;Â·&nbsp;Lucas</footer><a class=entry-link aria-label="post link to nodeçš„cluster" href=https://zhenfeng-zhu.github.io/posts/node%E7%9A%84cluster/></a></article><article class=post-entry><header class=entry-header><h2>nodeè¸©å‘</h2></header><section class=entry-content><p>module é¦–å…ˆç¬¬ä¸€ä¸ªå°±æ˜¯es6çš„moduleã€‚
çœ‹åˆ°åˆ«äººå†™çš„
import { a } from "./module"; æ‰€ä»¥è‡ªå·±ä¹Ÿæƒ³è¦è¿™ä¹ˆå†™ï¼Œä½†æ˜¯æ¯æ¬¡è¿è¡Œçš„æ—¶å€™éƒ½ä¼šæŠ¥é”™ã€‚
// demo2.js export const a = "hello"; //demo1.js import { a } from "./demo2"; function hello() { console.log(a); } zhuzhenfengdeMacBook-Pro :: node/node-example Â» node demo1.js /Users/zhuzhenfeng/Documents/github/node/node-example/demo1.js:1 (function (exports, require, module, __filename, __dirname) { import { a } from "./demo2"; ^ SyntaxError: Unexpected token { at new Script (vm.js:74:7) at createScript (vm.js:246:10) at Object.runInThisContext (vm.js:298:10) at Module._compile (internal/modules/cjs/loader.js:646:28) at Object.Module._extensions..js (internal/modules/cjs/loader.js:689:10) at Module....</p></section><footer class=entry-footer>May 5, 2018&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;Lucas</footer><a class=entry-link aria-label="post link to nodeè¸©å‘" href=https://zhenfeng-zhu.github.io/posts/node%E8%B8%A9%E5%9D%91/></a></article><article class=post-entry><header class=entry-header><h2>nodeå­¦ä¹ ç¬”è®°</h2></header><section class=entry-content><p>å†™nodeä¹Ÿæœ‰ä¸€æ®µæ—¶é—´äº†ï¼Œæ•´ç†ä¸€ä¸‹å­¦ä¹ ç¬”è®°ï¼Œå…±åŒè¿›æ­¥
ä»€ä¹ˆæ˜¯nodeï¼Ÿ é¦–å…ˆçœ‹ä¸€ä¸‹ä»€ä¹ˆæ˜¯node.js
Node æ˜¯ä¸€ä¸ªæœåŠ¡å™¨ç«¯ JavaScript Node.js æ˜¯ä¸€ä¸ªåŸºäº Chrome V8 å¼•æ“çš„ JavaScript è¿è¡Œç¯å¢ƒ Node.js ä½¿ç”¨äº†ä¸€ä¸ªäº‹ä»¶é©±åŠ¨ã€éé˜»å¡å¼ I/O çš„æ¨¡å‹ï¼Œä½¿å…¶è½»é‡åˆé«˜æ•ˆ Node.js çš„åŒ…ç®¡ç†å™¨ npmï¼Œæ˜¯å…¨çƒæœ€å¤§çš„å¼€æºåº“ç”Ÿæ€ç³»ç»Ÿ æ¨¡å—ç³»ç»Ÿæ˜¯nodeæœ€åŸºæœ¬ä¹Ÿæ˜¯æœ€å¸¸ç”¨çš„ã€‚ä¸€èˆ¬å¯ä»¥åˆ†ä¸ºå››ç±»ï¼š
åŸç”Ÿæ¨¡å— æ–‡ä»¶æ¨¡å— ç¬¬ä¸‰æ–¹æ¨¡å— è‡ªå®šä¹‰æ¨¡å— nodeç¤¾åŒºå´‡å°šDRYæ–‡åŒ–ï¼Œå³Donâ€™t repeate yourselfã€‚è¿™ç§æ–‡åŒ–ä½¿å¾—nodeçš„ç”Ÿæ€å¼‚å¸¸ç¹è£ï¼ŒåŒæ ·ä¹Ÿç”±äºæŸäº›åŒ…çš„è´¨é‡ä½ä¸‹å¼•æ¥äº†ä¸€äº›è¯Ÿç—…ã€‚
è°ˆè°ˆè‡ªå®šä¹‰æ¨¡å— æˆ‘ä»¬åœ¨å†™nodeç¨‹åºçš„æ—¶å€™ï¼Œä¸€èˆ¬éƒ½æ˜¯åœ¨å†™è‡ªå®šä¹‰æ¨¡å—ã€‚
åˆ›å»ºæ¨¡å—
// b.js function FunA(){ return "hello world"; } // æš´éœ²æ–¹æ³•FunA module.exports = FunA; åŠ è½½æ¨¡å—
// a.js const FunA=require('./b.js'); // è¿è¡ŒFunA const name=FunA(); console.log(name); åœ¨åšæ¨¡å—åˆ°å¤„çš„æ—¶å€™æœ‰ä¸¤ç§æ–¹å¼ï¼š
module.exports
module.exports å°± Node....</p></section><footer class=entry-footer>April 22, 2018&nbsp;Â·&nbsp;10 min&nbsp;Â·&nbsp;Lucas</footer><a class=entry-link aria-label="post link to nodeå­¦ä¹ ç¬”è®°" href=https://zhenfeng-zhu.github.io/posts/node-learning/></a></article><article class=post-entry><header class=entry-header><h2>nodeçš„rediså®æˆ˜</h2></header><section class=entry-content><p>Node.js Rediså®¢æˆ·ç«¯æ¨¡å— ä¸ºäº†è¿½æ–°ï¼Œè¿™é‡Œæˆ‘ä½¿ç”¨çš„yarnï¼Œæ¯•ç«Ÿæˆ‘æ˜¯HDDï¼ˆé¢å‘çƒ­ç‚¹ç¼–ç¨‹ï¼‰ç¼–ç¨‹å®è·µè€…ã€‚
æ¨¡å—å®‰è£…
yarn add redis æ¨¡å—ä½¿ç”¨å®ä¾‹
const redis = require('redis') const client = redis.createClient('6379', '127.0.0.1') client.on("error", function (err) { console.log("Error " + err); }); client.set("string key", "string val", redis.print); client.hset("hash key", "hashtest 1", "some value", redis.print); client.hset(["hash key", "hashtest 2", "some other value"], redis.print); client.hkeys("hash key", function (err, replies) { console.log(replies.length + " replies:"); replies.forEach(function (reply, i) { console.log(" " + i + ": " + reply); }); client....</p></section><footer class=entry-footer>April 13, 2018&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;Lucas</footer><a class=entry-link aria-label="post link to nodeçš„rediså®æˆ˜" href=https://zhenfeng-zhu.github.io/posts/node%E7%9A%84redis%E5%AE%9E%E6%88%98/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=https://zhenfeng-zhu.github.io/posts/page/9/>Â« Prev Page</a>
<a class=next href=https://zhenfeng-zhu.github.io/posts/page/11/>Next Page Â»</a></nav></footer></main><footer class=footer><span>&copy; 2021 <a href=https://zhenfeng-zhu.github.io>Go Data</a></span>
<span>&#183;</span>
<span>Powered by <a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a></span>
<span>&#183;</span>
<span>Theme <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)"><button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></button></a>
<script>window.onload=function(){if(localStorage.getItem("menu-scroll-position")){document.getElementById('menu').scrollLeft=localStorage.getItem("menu-scroll-position");}}
document.querySelectorAll('a[href^="#"]').forEach(anchor=>{anchor.addEventListener("click",function(e){e.preventDefault();var id=this.getAttribute("href").substr(1);if(!window.matchMedia('(prefers-reduced-motion: reduce)').matches){document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({behavior:"smooth"});}else{document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();}
if(id==="top"){history.replaceState(null,null," ");}else{history.pushState(null,null,`#${id}`);}});});var mybutton=document.getElementById("top-link");window.onscroll=function(){if(document.body.scrollTop>800||document.documentElement.scrollTop>800){mybutton.style.visibility="visible";mybutton.style.opacity="1";}else{mybutton.style.visibility="hidden";mybutton.style.opacity="0";}};function menu_on_scroll(){localStorage.setItem("menu-scroll-position",document.getElementById('menu').scrollLeft);}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{if(document.body.className.includes("dark")){document.body.classList.remove('dark');localStorage.setItem("pref-theme",'light');}else{document.body.classList.add('dark');localStorage.setItem("pref-theme",'dark');}})</script></body></html>