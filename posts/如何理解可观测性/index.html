<!doctype html><html lang=en dir=auto>
<head><meta charset=utf-8>
<meta http-equiv=x-ua-compatible content="IE=edge">
<meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no">
<meta name=robots content="index, follow">
<title>Awesome Fenix</title>
<meta name=keywords content>
<meta name=description content="#! https://zhuanlan.zhihu.com/p/421703318
 title: &ldquo;如何理解可观测性&rdquo; date: 2021-10-15T09:45:38+08:00
 可观测性 可观测性 ≠ 监控   核心不同
 监控以运维为核心，通过各项指标来定义整体的运行状态、失败情况。 观测则以开发为核心，除了监控，它还会对系统进行分析。    维度不同
 监控是从外围的角度，通过各种指标（机器 CPU、负载、网络等维度）来判断整个系统的执行情况。 可观测性则在上述外部指标基础上，以应用内的各个维度来展开推测，通过二者的数据结合来真实的反应应用的运行情况。    展现的信息不同
 有些系统在正常运行时十分稳定，但是一到高并发就会出现问题，此时监控只能汇报问题出现的状况，而可观测性可以很好的通过图形化的方式告知我们问题的原因，不用我们通过经验来猜测。    可观测性打破了开发和运维的原有问题解决方式，不再是运维发现问题开发解决，而是以开发为中心。
监控数据来源   端上访问
 用户体验监控  web 页面的白屏时间 dom 元素/资源加载耗时 文档网络耗时 app 卡顿率 崩溃率 热启动加载时长   日志 端到端  用户端到后端的请求状况，访问量、成功率、响应时间等。 还需要端上所处的地区、网络环境、响应状态码   可用率  访问是否可用、响应耗时长短的一些指标和 cdn、dns 等公共资源有关系。      应用程序">
<meta name=author content="Fenix">
<link rel=canonical href=https://zhenfeng-zhu.github.io/posts/%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3%E5%8F%AF%E8%A7%82%E6%B5%8B%E6%80%A7/>
<link href=/assets/css/stylesheet.min.8d754ccb970fef4a6d8e5b0441e01d76a0d3530c6777067a1b2ca581aa1b4af7.css integrity="sha256-jXVMy5cP70ptjlsEQeAddqDTUwxndwZ6GyylgaobSvc=" rel="preload stylesheet" as=style>
<link rel=icon href=https://zhenfeng-zhu.github.io/favicon.ico>
<link rel=icon type=image/png sizes=16x16 href=https://zhenfeng-zhu.github.io/favicon-16x16.png>
<link rel=icon type=image/png sizes=32x32 href=https://zhenfeng-zhu.github.io/favicon-32x32.png>
<link rel=apple-touch-icon href=https://zhenfeng-zhu.github.io/apple-touch-icon.png>
<link rel=mask-icon href=https://zhenfeng-zhu.github.io/safari-pinned-tab.svg>
<meta name=theme-color content="#2e2e33">
<meta name=msapplication-TileColor content="#2e2e33">
<meta name=generator content="Hugo 0.91.0">
<meta property="og:title" content>
<meta property="og:description" content="#! https://zhuanlan.zhihu.com/p/421703318
 title: &ldquo;如何理解可观测性&rdquo; date: 2021-10-15T09:45:38+08:00
 可观测性 可观测性 ≠ 监控   核心不同
 监控以运维为核心，通过各项指标来定义整体的运行状态、失败情况。 观测则以开发为核心，除了监控，它还会对系统进行分析。    维度不同
 监控是从外围的角度，通过各种指标（机器 CPU、负载、网络等维度）来判断整个系统的执行情况。 可观测性则在上述外部指标基础上，以应用内的各个维度来展开推测，通过二者的数据结合来真实的反应应用的运行情况。    展现的信息不同
 有些系统在正常运行时十分稳定，但是一到高并发就会出现问题，此时监控只能汇报问题出现的状况，而可观测性可以很好的通过图形化的方式告知我们问题的原因，不用我们通过经验来猜测。    可观测性打破了开发和运维的原有问题解决方式，不再是运维发现问题开发解决，而是以开发为中心。
监控数据来源   端上访问
 用户体验监控  web 页面的白屏时间 dom 元素/资源加载耗时 文档网络耗时 app 卡顿率 崩溃率 热启动加载时长   日志 端到端  用户端到后端的请求状况，访问量、成功率、响应时间等。 还需要端上所处的地区、网络环境、响应状态码   可用率  访问是否可用、响应耗时长短的一些指标和 cdn、dns 等公共资源有关系。      应用程序">
<meta property="og:type" content="article">
<meta property="og:url" content="https://zhenfeng-zhu.github.io/posts/%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3%E5%8F%AF%E8%A7%82%E6%B5%8B%E6%80%A7/">
<meta property="og:image" content="https://zhenfeng-zhu.github.io/papermod-cover.png">
<meta name=twitter:card content="summary_large_image">
<meta name=twitter:image content="https://zhenfeng-zhu.github.io/papermod-cover.png">
<meta name=twitter:title content>
<meta name=twitter:description content="#! https://zhuanlan.zhihu.com/p/421703318
 title: &ldquo;如何理解可观测性&rdquo; date: 2021-10-15T09:45:38+08:00
 可观测性 可观测性 ≠ 监控   核心不同
 监控以运维为核心，通过各项指标来定义整体的运行状态、失败情况。 观测则以开发为核心，除了监控，它还会对系统进行分析。    维度不同
 监控是从外围的角度，通过各种指标（机器 CPU、负载、网络等维度）来判断整个系统的执行情况。 可观测性则在上述外部指标基础上，以应用内的各个维度来展开推测，通过二者的数据结合来真实的反应应用的运行情况。    展现的信息不同
 有些系统在正常运行时十分稳定，但是一到高并发就会出现问题，此时监控只能汇报问题出现的状况，而可观测性可以很好的通过图形化的方式告知我们问题的原因，不用我们通过经验来猜测。    可观测性打破了开发和运维的原有问题解决方式，不再是运维发现问题开发解决，而是以开发为中心。
监控数据来源   端上访问
 用户体验监控  web 页面的白屏时间 dom 元素/资源加载耗时 文档网络耗时 app 卡顿率 崩溃率 热启动加载时长   日志 端到端  用户端到后端的请求状况，访问量、成功率、响应时间等。 还需要端上所处的地区、网络环境、响应状态码   可用率  访问是否可用、响应耗时长短的一些指标和 cdn、dns 等公共资源有关系。      应用程序">
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://zhenfeng-zhu.github.io/posts/"},{"@type":"ListItem","position":3,"name":"","item":"https://zhenfeng-zhu.github.io/posts/%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3%E5%8F%AF%E8%A7%82%E6%B5%8B%E6%80%A7/"}]}</script>
<script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"","name":"","description":"#! https://zhuanlan.zhihu.com/p/421703318\n title: \u0026amp;ldquo;如何理解可观测性\u0026amp;rdquo; date: 2021-10-15T09:45:38+08:00\n 可观测性 可观测性 ≠ 监控   核心不同\n 监控以运维为核心，通过各项指标来定义整体的运行状态、失败情况。 观测则以开发为核心，除了监控，它还会对 …","keywords":[],"articleBody":"#! https://zhuanlan.zhihu.com/p/421703318\n title: “如何理解可观测性” date: 2021-10-15T09:45:38+08:00\n 可观测性 可观测性 ≠ 监控   核心不同\n 监控以运维为核心，通过各项指标来定义整体的运行状态、失败情况。 观测则以开发为核心，除了监控，它还会对系统进行分析。    维度不同\n 监控是从外围的角度，通过各种指标（机器 CPU、负载、网络等维度）来判断整个系统的执行情况。 可观测性则在上述外部指标基础上，以应用内的各个维度来展开推测，通过二者的数据结合来真实的反应应用的运行情况。    展现的信息不同\n 有些系统在正常运行时十分稳定，但是一到高并发就会出现问题，此时监控只能汇报问题出现的状况，而可观测性可以很好的通过图形化的方式告知我们问题的原因，不用我们通过经验来猜测。    可观测性打破了开发和运维的原有问题解决方式，不再是运维发现问题开发解决，而是以开发为中心。\n监控数据来源   端上访问\n 用户体验监控  web 页面的白屏时间 dom 元素/资源加载耗时 文档网络耗时 app 卡顿率 崩溃率 热启动加载时长   日志 端到端  用户端到后端的请求状况，访问量、成功率、响应时间等。 还需要端上所处的地区、网络环境、响应状态码   可用率  访问是否可用、响应耗时长短的一些指标和 cdn、dns 等公共资源有关系。      应用程序\n 执行情况 资源消耗 vm 指标监控 容量 服务关系 应用日志 健康情况    业务监控\n 业务指标能很好的体现出系统是否稳定，任何系统如果出现了问题，最先受影响的肯定是业务指标。    基础设施\n 资源利用  这个很好理解，像 IO 使用率、cpu 利用率、内存使用率、磁盘使用率、网络使用率等。   通信情况  主机之间的网络情况。      可观测性的核心概念 - 日志（Logging） 日志的一般描述是：在特定时间发生的事件，被以结构化的形式记录并产生的文本数据。\n 日志的功能   便于调试 快速定位问题 高度定制化 信息埋点 追踪数据变化 数据分析  日志级别   debug info warning error  日志常见来源   终端 网关  访问日志：当服务到达网关之后，就会形成一条日志。 错误日志：网关执行时出了问题   应用层  容器启动日志 请求访问日志 普通日志   组件层  mysql 和 redis 等 应用运行时的日志 慢查询 审计   基础层  偏向运维的日志 系统日志和 linux 操作日志等    如何写好日志  寻找编写位置 = 编写日志 = 上线 = 日志 review = 定期修改\n  选择一个常用的日志框架\n  编写方式从如下几个方面考虑\n 日志开发时  日志编写位置 写入性能 占位符 可读性 关键信息隐蔽   开发完成后  减少代码位置信息的输出 文件分类 日志 review      编写位置\n  几个比较重要的编写日志的位置：\n 系统/应用启动和参数变更：当系统启动时，将相关的参数信息进行打印 关键操作节点 大型任务进度上报：防止因为长时间没有处理而无法得知程序的执行状态 异常   写入性能  日志的写入性能受如下几个因素影响：\n 日志编写位置，如果是在 for 循环中打印，需要考虑一下是否有必要 日志数量：大量的写日志质量会降低，而且过多日志也会影响程序的执行效率 日志编写等级：不正确的等级，会让我们查问题时间增加 日志的输出级别：线上不建议 debug 模式。 无用输出参数：大字段、无用字段可以不用输出  好的日志一定是便于你去排查问题的，在编写日志的时候一定要思考这个日志可以帮你做什么。\n 占位符  日志的编写尽可能的选择基于占位符的编写方式：\n 节约性能，在生成高级别的日志时，低级别的日志会不停的叠加字符串而占用过多的内存和 CPU。 便于编写。先确定日志所要表达的内容，再确认所需要编写的参数，这样写日志的时候目的会更加明确。 便于查看。更方便的查看日志想表达的意思，而不被参数打乱。   可读性  一些容易遗漏的信息，之后要加上：\n 会话标识：当前操作的用户和当前请求相关的信息 请求标识：每个请求都有一个唯一标识，一般会配合链路追踪系统使用，这样可以跨服务追踪 参数信息 发生数据的结果   关键信息隐蔽  把一些关键的信息模糊掉\n 减少代码位置信息的输出  提升效率\n 文件分类  把不同业务逻辑按不同的文件来分类，不会被干扰\n 日志 review  每一次功能上线时，出了对功能进行回扫，也要确认日志的内容输出情况是不是符合预期\n  日志管理\n  日志格式\n   系统之间的格式应该保持一致 不编写多行日志内容 不适用日志中的常见内容来分割，比如空格等。   日志归档  一般情况下都是按小时或者日期来归档，每天生成一个日志文件，方便管理和查看\n- 度量（Metrics） 统计指标也是我们经常使用的。它是一种可累加的聚合的数值结果，具有原子性。因此，我们可以通过各种数学计算方式来获取一段时间内的数值。\n- 追踪（Tracing） 链路追踪是将链路的完整行为信息进行记录，然后通过可视化的形式展现出来\n我们一般将数据的来源分为 2 个级别：\n 请求级别：数据来源于真实的请求，比如一次 http 调用、rpc 调用等 聚合级别：真实的请求指标，或是系统的一些参数数据聚合，比如 qps、cpu 使用率  ","wordCount":"183","inLanguage":"en","datePublished":"0001-01-01T00:00:00Z","dateModified":"0001-01-01T00:00:00Z","author":{"@type":"Person","name":"Fenix"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://zhenfeng-zhu.github.io/posts/%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3%E5%8F%AF%E8%A7%82%E6%B5%8B%E6%80%A7/"},"publisher":{"@type":"Organization","name":"Awesome Fenix","logo":{"@type":"ImageObject","url":"https://zhenfeng-zhu.github.io/favicon.ico"}}}</script>
</head>
<body id=top>
<script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add('dark'):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove('dark'):window.matchMedia('(prefers-color-scheme: dark)').matches&&document.body.classList.add('dark')</script>
<noscript>
<style type=text/css>#theme-toggle,.top-link{display:none}</style>
</noscript>
<header class=header>
<nav class=nav>
<div class=logo>
<span class=logo-switches>
<button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>
</button>
</span>
</div>
<ul id=menu onscroll=menu_on_scroll()>
<li>
<a href=https://zhenfeng-zhu.github.io/about title=About>
<span>About</span>
</a>
</li>
<li>
<a href=https://zhenfeng-zhu.github.io/search/ title=🔍>
<span>🔍</span>
</a>
</li></ul>
</nav>
</header>
<main class=main>
<article class=post-single>
<header class=post-header>
<div class=breadcrumbs>
<a href=https://zhenfeng-zhu.github.io>Home</a>&nbsp;»&nbsp;<a href=https://zhenfeng-zhu.github.io/posts/>Posts</a>
</div>
<h1 class=post-title>
</h1>
<div class=post-meta>
1 min&nbsp;·&nbsp;Fenix
</div>
</header>
<div class=post-content>
<p>#! <a href=https://zhuanlan.zhihu.com/p/421703318>https://zhuanlan.zhihu.com/p/421703318</a></p>
<hr>
<p>title: &ldquo;如何理解可观测性&rdquo;
date: 2021-10-15T09:45:38+08:00</p>
<hr>
<h1 id=可观测性>可观测性<a hidden class=anchor aria-hidden=true href=#可观测性>#</a></h1>
<h2 id=可观测性--监控>可观测性 ≠ 监控<a hidden class=anchor aria-hidden=true href=#可观测性--监控>#</a></h2>
<ol>
<li>
<p>核心不同</p>
<ul>
<li>监控以运维为核心，通过各项指标来定义整体的运行状态、失败情况。</li>
<li>观测则以开发为核心，除了监控，它还会对系统进行分析。</li>
</ul>
</li>
<li>
<p>维度不同</p>
<ul>
<li>监控是从外围的角度，通过各种指标（机器 CPU、负载、网络等维度）来判断整个系统的执行情况。</li>
<li>可观测性则在上述外部指标基础上，以应用内的各个维度来展开推测，通过二者的数据结合来真实的反应应用的运行情况。</li>
</ul>
</li>
<li>
<p>展现的信息不同</p>
<ul>
<li>有些系统在正常运行时十分稳定，但是一到高并发就会出现问题，此时监控只能汇报问题出现的状况，而可观测性可以很好的通过图形化的方式告知我们问题的原因，不用我们通过经验来猜测。</li>
</ul>
</li>
</ol>
<p>可观测性打破了开发和运维的原有问题解决方式，不再是运维发现问题开发解决，而是以开发为中心。</p>
<h2 id=监控数据来源>监控数据来源<a hidden class=anchor aria-hidden=true href=#监控数据来源>#</a></h2>
<ol>
<li>
<p>端上访问</p>
<ol>
<li>用户体验监控
<ol>
<li>web 页面的白屏时间</li>
<li>dom 元素/资源加载耗时</li>
<li>文档网络耗时</li>
<li>app 卡顿率</li>
<li>崩溃率</li>
<li>热启动加载时长</li>
</ol>
</li>
<li>日志</li>
<li>端到端
<ol>
<li>用户端到后端的请求状况，访问量、成功率、响应时间等。</li>
<li>还需要端上所处的地区、网络环境、响应状态码</li>
</ol>
</li>
<li>可用率
<ol>
<li>访问是否可用、响应耗时长短的一些指标和 cdn、dns 等公共资源有关系。</li>
</ol>
</li>
</ol>
</li>
<li>
<p>应用程序</p>
<ol>
<li>执行情况</li>
<li>资源消耗</li>
<li>vm 指标监控</li>
<li>容量</li>
<li>服务关系</li>
<li>应用日志</li>
<li>健康情况</li>
</ol>
</li>
<li>
<p>业务监控</p>
<ol>
<li>业务指标能很好的体现出系统是否稳定，任何系统如果出现了问题，最先受影响的肯定是业务指标。</li>
</ol>
</li>
<li>
<p>基础设施</p>
<ol>
<li>资源利用
<ol>
<li>这个很好理解，像 IO 使用率、cpu 利用率、内存使用率、磁盘使用率、网络使用率等。</li>
</ol>
</li>
<li>通信情况
<ol>
<li>主机之间的网络情况。</li>
</ol>
</li>
</ol>
</li>
</ol>
<h2 id=可观测性的核心概念>可观测性的核心概念<a hidden class=anchor aria-hidden=true href=#可观测性的核心概念>#</a></h2>
<h3 id=--日志logging>- 日志（Logging）<a hidden class=anchor aria-hidden=true href=#--日志logging>#</a></h3>
<p>日志的一般描述是：在特定时间发生的事件，被以结构化的形式记录并产生的文本数据。</p>
<ol>
<li>日志的功能</li>
</ol>
<ul>
<li>便于调试</li>
<li>快速定位问题</li>
<li>高度定制化</li>
<li>信息埋点</li>
<li>追踪数据变化</li>
<li>数据分析</li>
</ul>
<ol start=2>
<li>日志级别</li>
</ol>
<ul>
<li>debug</li>
<li>info</li>
<li>warning</li>
<li>error</li>
</ul>
<ol start=3>
<li>日志常见来源</li>
</ol>
<ul>
<li>终端</li>
<li>网关
<ul>
<li>访问日志：当服务到达网关之后，就会形成一条日志。</li>
<li>错误日志：网关执行时出了问题</li>
</ul>
</li>
<li>应用层
<ul>
<li>容器启动日志</li>
<li>请求访问日志</li>
<li>普通日志</li>
</ul>
</li>
<li>组件层
<ul>
<li>mysql 和 redis 等</li>
<li>应用运行时的日志</li>
<li>慢查询</li>
<li>审计</li>
</ul>
</li>
<li>基础层
<ul>
<li>偏向运维的日志</li>
<li>系统日志和 linux 操作日志等</li>
</ul>
</li>
</ul>
<ol start=4>
<li>如何写好日志</li>
</ol>
<p>寻找编写位置 => 编写日志 => 上线 => 日志 review => 定期修改</p>
<ul>
<li>
<p>选择一个常用的日志框架</p>
</li>
<li>
<p>编写方式从如下几个方面考虑</p>
<ul>
<li>日志开发时
<ul>
<li>日志编写位置</li>
<li>写入性能</li>
<li>占位符</li>
<li>可读性</li>
<li>关键信息隐蔽</li>
</ul>
</li>
<li>开发完成后
<ul>
<li>减少代码位置信息的输出</li>
<li>文件分类</li>
<li>日志 review</li>
</ul>
</li>
</ul>
</li>
<li>
<p>编写位置</p>
</li>
</ul>
<p>几个比较重要的编写日志的位置：</p>
<ol>
<li>系统/应用启动和参数变更：当系统启动时，将相关的参数信息进行打印</li>
<li>关键操作节点</li>
<li>大型任务进度上报：防止因为长时间没有处理而无法得知程序的执行状态</li>
<li>异常</li>
</ol>
<ul>
<li>写入性能</li>
</ul>
<p>日志的写入性能受如下几个因素影响：</p>
<ol>
<li>日志编写位置，如果是在 for 循环中打印，需要考虑一下是否有必要</li>
<li>日志数量：大量的写日志质量会降低，而且过多日志也会影响程序的执行效率</li>
<li>日志编写等级：不正确的等级，会让我们查问题时间增加</li>
<li>日志的输出级别：线上不建议 debug 模式。</li>
<li>无用输出参数：大字段、无用字段可以不用输出</li>
</ol>
<p>好的日志一定是便于你去排查问题的，在编写日志的时候一定要思考这个日志可以帮你做什么。</p>
<ul>
<li>占位符</li>
</ul>
<p>日志的编写尽可能的选择基于占位符的编写方式：</p>
<ol>
<li>节约性能，在生成高级别的日志时，低级别的日志会不停的叠加字符串而占用过多的内存和 CPU。</li>
<li>便于编写。先确定日志所要表达的内容，再确认所需要编写的参数，这样写日志的时候目的会更加明确。</li>
<li>便于查看。更方便的查看日志想表达的意思，而不被参数打乱。</li>
</ol>
<ul>
<li>可读性</li>
</ul>
<p>一些容易遗漏的信息，之后要加上：</p>
<ol>
<li>会话标识：当前操作的用户和当前请求相关的信息</li>
<li>请求标识：每个请求都有一个唯一标识，一般会配合链路追踪系统使用，这样可以跨服务追踪</li>
<li>参数信息</li>
<li>发生数据的结果</li>
</ol>
<ul>
<li>关键信息隐蔽</li>
</ul>
<p>把一些关键的信息模糊掉</p>
<ul>
<li>减少代码位置信息的输出</li>
</ul>
<p>提升效率</p>
<ul>
<li>文件分类</li>
</ul>
<p>把不同业务逻辑按不同的文件来分类，不会被干扰</p>
<ul>
<li>日志 review</li>
</ul>
<p>每一次功能上线时，出了对功能进行回扫，也要确认日志的内容输出情况是不是符合预期</p>
<ul>
<li>
<p>日志管理</p>
</li>
<li>
<p>日志格式</p>
</li>
</ul>
<ol>
<li>系统之间的格式应该保持一致</li>
<li>不编写多行日志内容</li>
<li>不适用日志中的常见内容来分割，比如空格等。</li>
</ol>
<ul>
<li>日志归档</li>
</ul>
<p>一般情况下都是按小时或者日期来归档，每天生成一个日志文件，方便管理和查看</p>
<h3 id=--度量metrics>- 度量（Metrics）<a hidden class=anchor aria-hidden=true href=#--度量metrics>#</a></h3>
<p>统计指标也是我们经常使用的。它是一种可累加的聚合的数值结果，具有原子性。因此，我们可以通过各种数学计算方式来获取一段时间内的数值。</p>
<h3 id=--追踪tracing>- 追踪（Tracing）<a hidden class=anchor aria-hidden=true href=#--追踪tracing>#</a></h3>
<p>链路追踪是将链路的完整行为信息进行记录，然后通过可视化的形式展现出来</p>
<p>我们一般将数据的来源分为 2 个级别：</p>
<ol>
<li>请求级别：数据来源于真实的请求，比如一次 http 调用、rpc 调用等</li>
<li>聚合级别：真实的请求指标，或是系统的一些参数数据聚合，比如 qps、cpu 使用率</li>
</ol>
</div>
<footer class=post-footer>
<nav class=paginav>
<a class=prev href=https://zhenfeng-zhu.github.io/posts/aws-md/>
<span class=title>« Prev Page</span>
<br>
<span>aws.md</span>
</a>
<a class=next href=https://zhenfeng-zhu.github.io/posts/hello-world/>
<span class=title>Next Page »</span>
<br>
<span>Hello World</span>
</a>
</nav>
<div class=share-buttons>
<a target=_blank rel="noopener noreferrer" aria-label="share  on twitter" href="https://twitter.com/intent/tweet/?text=&url=https%3a%2f%2fzhenfeng-zhu.github.io%2fposts%2f%25E5%25A6%2582%25E4%25BD%2595%25E7%2590%2586%25E8%25A7%25A3%25E5%258F%25AF%25E8%25A7%2582%25E6%25B5%258B%25E6%2580%25A7%2f&hashtags="><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" aria-label="share  on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fzhenfeng-zhu.github.io%2fposts%2f%25E5%25A6%2582%25E4%25BD%2595%25E7%2590%2586%25E8%25A7%25A3%25E5%258F%25AF%25E8%25A7%2582%25E6%25B5%258B%25E6%2580%25A7%2f&title=&summary=&source=https%3a%2f%2fzhenfeng-zhu.github.io%2fposts%2f%25E5%25A6%2582%25E4%25BD%2595%25E7%2590%2586%25E8%25A7%25A3%25E5%258F%25AF%25E8%25A7%2582%25E6%25B5%258B%25E6%2580%25A7%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" aria-label="share  on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fzhenfeng-zhu.github.io%2fposts%2f%25E5%25A6%2582%25E4%25BD%2595%25E7%2590%2586%25E8%25A7%25A3%25E5%258F%25AF%25E8%25A7%2582%25E6%25B5%258B%25E6%2580%25A7%2f&title="><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" aria-label="share  on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fzhenfeng-zhu.github.io%2fposts%2f%25E5%25A6%2582%25E4%25BD%2595%25E7%2590%2586%25E8%25A7%25A3%25E5%258F%25AF%25E8%25A7%2582%25E6%25B5%258B%25E6%2580%25A7%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" aria-label="share  on whatsapp" href="https://api.whatsapp.com/send?text=%20-%20https%3a%2f%2fzhenfeng-zhu.github.io%2fposts%2f%25E5%25A6%2582%25E4%25BD%2595%25E7%2590%2586%25E8%25A7%25A3%25E5%258F%25AF%25E8%25A7%2582%25E6%25B5%258B%25E6%2580%25A7%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg>
</a>
<a target=_blank rel="noopener noreferrer" aria-label="share  on telegram" href="https://telegram.me/share/url?text=&url=https%3a%2f%2fzhenfeng-zhu.github.io%2fposts%2f%25E5%25A6%2582%25E4%25BD%2595%25E7%2590%2586%25E8%25A7%25A3%25E5%258F%25AF%25E8%25A7%2582%25E6%25B5%258B%25E6%2580%25A7%2f"><svg viewBox="2 2 28 28"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg>
</a>
</div>
</footer><script src=https://utteranc.es/client.js repo=zhenfeng-zhu/zhenfeng-zhu.github.io issue-term=pathname label=Comment theme=github-light crossorigin=anonymous async></script>
</article>
</main><footer class=footer>
<span>&copy; 2021 <a href=https://zhenfeng-zhu.github.io>Awesome Fenix</a></span>
<span>&#183;</span>
<span>Powered by <a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a></span>
<span>&#183;</span>
<span>Theme <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span>
</footer>
<a href=#top aria-label="go to top" title="Go to Top (Alt + G)">
<button class=top-link id=top-link type=button accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</button>
</a>
<script defer src=/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5+kdJvBz5iKbt6B5PJI=" onload=hljs.initHighlightingOnLoad()></script>
<script>window.onload=function(){localStorage.getItem("menu-scroll-position")&&(document.getElementById('menu').scrollLeft=localStorage.getItem("menu-scroll-position"))},document.querySelectorAll('a[href^="#"]').forEach(a=>{a.addEventListener("click",function(b){b.preventDefault();var a=this.getAttribute("href").substr(1);window.matchMedia('(prefers-reduced-motion: reduce)').matches?document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(a)}']`).scrollIntoView({behavior:"smooth"}),a==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${a}`)})});var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")};function menu_on_scroll(){localStorage.setItem("menu-scroll-position",document.getElementById('menu').scrollLeft)}</script>
<script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove('dark'),localStorage.setItem("pref-theme",'light')):(document.body.classList.add('dark'),localStorage.setItem("pref-theme",'dark'))})</script>
</body>
</html>