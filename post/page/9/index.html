<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Posts | Awesome Fenix</title><meta name=keywords content><meta name=description content="Posts - Awesome Fenix"><meta name=author content="Fenix"><link rel=canonical href=https://zhenfeng-zhu.github.io/post/><link crossorigin=anonymous href=/assets/css/stylesheet.min.c88963fe2d79462000fd0fb1b3737783c32855d340583e4523343f8735c787f0.css integrity="sha256-yIlj/i15RiAA/Q+xs3N3g8MoVdNAWD5FIzQ/hzXHh/A=" rel="preload stylesheet" as=style><link rel=icon href=https://zhenfeng-zhu.github.io/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://zhenfeng-zhu.github.io/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://zhenfeng-zhu.github.io/favicon-32x32.png><link rel=apple-touch-icon href=https://zhenfeng-zhu.github.io/apple-touch-icon.png><link rel=mask-icon href=https://zhenfeng-zhu.github.io/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.98.0"><link rel=alternate type=application/rss+xml href=https://zhenfeng-zhu.github.io/post/index.xml><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script type=application/javascript>var doNotTrack=!1;doNotTrack||(function(e,o,i,a,t,n,s){e.GoogleAnalyticsObject=t,e[t]=e[t]||function(){(e[t].q=e[t].q||[]).push(arguments)},e[t].l=1*new Date,n=o.createElement(i),s=o.getElementsByTagName(i)[0],n.async=1,n.src=a,s.parentNode.insertBefore(n,s)}(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-216295420-1","auto"),ga("send","pageview"))</script><meta property="og:title" content="Posts"><meta property="og:description" content="Theme PaperMod - https://github.com/adityatelange/hugo-PaperMod"><meta property="og:type" content="website"><meta property="og:url" content="https://zhenfeng-zhu.github.io/post/"><meta property="og:image" content="https://zhenfeng-zhu.github.io/papermod-cover.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://zhenfeng-zhu.github.io/papermod-cover.png"><meta name=twitter:title content="Posts"><meta name=twitter:description content="Theme PaperMod - https://github.com/adityatelange/hugo-PaperMod"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"https://zhenfeng-zhu.github.io/post/"}]}</script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8502076734034112" crossorigin=anonymous></script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8502076734034112" crossorigin=anonymous></script><header class=header><nav class=nav><div class=logo><a href=https://zhenfeng-zhu.github.io accesskey=h title="Awesome Fenix (Alt + H)">Awesome Fenix</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></span></div><ul id=menu><li><a href=https://zhenfeng-zhu.github.io/archives/ title=Archives><span>Archives</span></a></li><li><a href=https://zhenfeng-zhu.github.io/tags/ title=Tags><span>Tags</span></a></li><li><a href=https://zhenfeng-zhu.github.io/about title=About><span>About</span></a></li><li><a href=https://zhenfeng-zhu.github.io/search/ title=ğŸ”><span>ğŸ”</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href=https://zhenfeng-zhu.github.io>Home</a></div><h1>Posts</h1></header><article class=post-entry><figure class=entry-cover><img loading=lazy src=https://github.com/openfaas/media/raw/master/OpenFaaS_Magnet_3_1_png.png alt></figure><header class=entry-header><h2>Openfaas Workshop Lab9</h2></header><section class=entry-content><p>Lab 9 - é«˜çº§å‡½æ•° - è‡ªåŠ¨ç¼©æ”¾ è‡ªåŠ¨ç¼©æ”¾å‡½æ•°çš„åº”ç”¨ æ­£å¦‚æ–‡æ¡£ä¸­æè¿°çš„é‚£æ ·ï¼ŒOpenFaaS å¸¦æœ‰è‡ªåŠ¨æ‰©å±•å‡½æ•°ã€‚åœ¨è¿™ä¸ªå®éªŒå®¤ä¸­ï¼Œæˆ‘ä»¬å°†çœ‹çœ‹è‡ªåŠ¨æ‰©å±•æ˜¯å¦‚ä½•è¿ä½œçš„ã€‚
å‰ææ¡ä»¶ åœ¨å®Œæˆäº†Lab 1ä¸­å¯¹ OpenFaaS çš„è®¾ç½®åï¼Œä½ å°†æ‹¥æœ‰è§¦å‘è‡ªåŠ¨æ‰©å±•æ‰€éœ€çš„ä¸€åˆ‡ã€‚
å¤šä¸ªå·¥å…·å¯ä»¥ç”¨æ¥åˆ›å»ºè¶³å¤Ÿçš„æµé‡æ¥è§¦å‘è‡ªåŠ¨æ‰©å±• - åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œ`curlâ€™å°†è¢«ä½¿ç”¨ï¼Œå› ä¸ºå®ƒå¾ˆå®¹æ˜“åœ¨ Mac å’Œ Linux ä¸Šä½¿ç”¨ï¼Œå¹¶åœ¨ Windows ä¸Šä¸ Git Bash æ‰“åŒ…ã€‚
è‡ªåŠ¨æ‰©å±•çš„èƒŒæ™¯ å¼€ç®±å³ç”¨çš„ OpenFaaS æ˜¯è¿™æ ·é…ç½®çš„ï¼Œå®ƒå°†æ ¹æ® Prometheus æµ‹é‡çš„ æ¯ç§’è¯·æ±‚æŒ‡æ ‡è¿›è¡Œè‡ªåŠ¨æ‰©å±•ã€‚ è¿™ä¸ªæŒ‡æ ‡æ˜¯åœ¨æµé‡é€šè¿‡ API ç½‘å…³çš„æ—¶å€™æ•è·çš„ã€‚å¦‚æœè¶…è¿‡äº†å®šä¹‰çš„ æ¯ç§’è¯·æ±‚çš„é˜ˆå€¼ï¼ŒAlertManager å°±ä¼šå¯åŠ¨ã€‚è¿™ä¸ªé˜ˆå€¼åº”è¯¥è¢«é‡æ–°é…ç½®ä¸ºé€‚åˆç”Ÿäº§ä½¿ç”¨çš„æ°´å¹³ï¼Œå› ä¸ºåœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œä¸ºäº†æ¼”ç¤ºï¼Œå®ƒè¢«è®¾ç½®ä¸ºä¸€ä¸ªä½å€¼ã€‚
åœ¨æ–‡æ¡£ç½‘ç«™ä¸­æ‰¾åˆ°æ›´å¤šå…³äºè‡ªåŠ¨ç¼©æ”¾çš„ä¿¡æ¯ã€‚
æ¯æ¬¡è­¦æŠ¥è¢« AlertManager è§¦å‘æ—¶ï¼ŒAPI ç½‘å…³å°†æŠŠä½ çš„å‡½æ•°çš„ä¸€å®šæ•°é‡çš„å‰¯æœ¬æ·»åŠ åˆ°é›†ç¾¤ä¸­ã€‚OpenFaaS æœ‰ä¸¤ä¸ªé…ç½®é€‰é¡¹ï¼Œå…è®¸æŒ‡å®šå¤åˆ¶çš„èµ·å§‹/æœ€ä½æ•°é‡ï¼Œä¹Ÿå…è®¸åœæ­¢å¤åˆ¶çš„æœ€å¤§æ•°é‡ã€‚
ä½ å¯ä»¥é€šè¿‡è®¾ç½®com.openfaas.scale.minæ¥æ§åˆ¶å‡½æ•°çš„æœ€å°å¤åˆ¶é‡ï¼Œç›®å‰é»˜è®¤å€¼ä¸º1ã€‚
ä½ å¯ä»¥é€šè¿‡è®¾ç½®com.openfaas.scale.maxæ¥æ§åˆ¶ä¸€ä¸ªå‡½æ•°å¯ä»¥äº§ç”Ÿçš„æœ€å¤§å¤åˆ¶é‡ï¼Œç›®å‰é»˜è®¤å€¼æ˜¯20ã€‚
æ³¨æ„: å¦‚æœä½ æŠŠcom.openfaas.scale.minå’Œcom.openfaas.scale.maxè®¾ç½®æˆç›¸åŒçš„å€¼ï¼Œä½ å°±ä¼šç¦ç”¨è‡ªåŠ¨ç¼©æ”¾å‡½æ•°ã€‚
æŸ¥çœ‹ Prometheus ä½ éœ€è¦è¿è¡Œè¿™ä¸ªç«¯å£è½¬å‘å‘½ä»¤ï¼Œä»¥ä¾¿èƒ½å¤Ÿåœ¨http://127.0.0.1:9090è®¿é—® Prometheusã€‚
kubectl port-forward deployment/prometheus 9090:9090 -n openfaas ç°åœ¨æ·»åŠ ä¸€ä¸ªæ‰€æœ‰æˆåŠŸè°ƒç”¨éƒ¨ç½²çš„å‡½æ•°çš„å›¾ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡æ‰§è¡Œrate( gateway_function_invocation_total{code="200"} [20s])ä½œä¸ºæŸ¥è¯¢æ¥å®ç°ã€‚å¯¼è‡´ä¸€ä¸ªçœ‹èµ·æ¥åƒè¿™æ ·çš„é¡µé¢ã€‚...</p></section><footer class=entry-footer><span title="2022-01-04 13:44:09 +0800 +0800">January 4, 2022</span>&nbsp;Â·&nbsp;2 min&nbsp;Â·&nbsp;Fenix</footer><a class=entry-link aria-label="post link to Openfaas Workshop Lab9" href=https://zhenfeng-zhu.github.io/post/openfaas-workshop-lab9/></a></article><article class=post-entry><figure class=entry-cover><img loading=lazy src=https://github.com/openfaas/media/raw/master/OpenFaaS_Magnet_3_1_png.png alt></figure><header class=entry-header><h2>Openfaas Workshop Lab8</h2></header><section class=entry-content><p>Lab 8 - é«˜çº§å‡½æ•° - è¶…æ—¶ åœ¨å¼€å§‹è¿™ä¸ªå®éªŒä¹‹å‰ï¼Œä¸ºä½ çš„æ–‡ä»¶åˆ›å»ºä¸€ä¸ªæ–°çš„æ–‡ä»¶å¤¹ã€‚
$ mkdir -p lab8 \ && cd lab8 ç”¨read_timeoutæ‰©å±•è¶…æ—¶æ—¶é—´ timeoutå¯¹åº”äºä¸€ä¸ªå‡½æ•°å¯ä»¥è¿è¡Œå¤šé•¿æ—¶é—´ï¼Œç›´åˆ°è¢«æ‰§è¡Œã€‚å®ƒå¯¹é˜²æ­¢åˆ†å¸ƒå¼ç³»ç»Ÿä¸­çš„è¯¯æ“ä½œå¾ˆé‡è¦ã€‚
æœ‰å‡ ä¸ªåœ°æ–¹å¯ä»¥ä¸ºä½ çš„å‡½æ•°é…ç½®è¶…æ—¶ï¼Œåœ¨æ¯ä¸ªåœ°æ–¹éƒ½å¯ä»¥é€šè¿‡ä½¿ç”¨ç¯å¢ƒå˜é‡æ¥å®Œæˆã€‚
å‡½æ•°è¶…æ—¶
read_timeout - å…è®¸å‡½æ•°é€šè¿‡ HTTP è¯»å–ä¸€ä¸ªè¯·æ±‚çš„æ—¶é—´
write_timeout - å…è®¸å‡½æ•°åœ¨ HTTP ä¸Šå†™ä¸€ä¸ªå“åº”çš„æ—¶é—´
exec_timeout - ä¸€ä¸ªå‡½æ•°åœ¨è¢«ç»ˆæ­¢å‰å¯ä»¥è¿è¡Œçš„æœ€å¤§æ—¶é—´ã€‚
API ç½‘å…³çš„é»˜è®¤æ—¶é—´æ˜¯ 20 ç§’ï¼Œæ‰€ä»¥æˆ‘ä»¬æ¥æµ‹è¯•ä¸€ä¸‹åœ¨ä¸€ä¸ªå‡½æ•°ä¸Šè®¾ç½®ä¸€ä¸ªæ›´çŸ­çš„è¶…æ—¶æ—¶é—´ã€‚
faas-cli new --lang python3 sleep-for --prefix="&lt;your-docker-username-here>" ç¼–è¾‘handler.pyã€‚
import time import os def handle(req): """handle a request to the function Args: req (str): request body """ sleep_duration = int(os....</p></section><footer class=entry-footer><span title="2022-01-04 13:44:05 +0800 +0800">January 4, 2022</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;Fenix</footer><a class=entry-link aria-label="post link to Openfaas Workshop Lab8" href=https://zhenfeng-zhu.github.io/post/openfaas-workshop-lab8/></a></article><article class=post-entry><figure class=entry-cover><img loading=lazy src=https://github.com/openfaas/media/raw/master/OpenFaaS_Magnet_3_1_png.png alt></figure><header class=entry-header><h2>Openfaas Workshop Lab7</h2></header><section class=entry-content><p>å®éªŒ 7â€“å¼‚æ­¥å‡½æ•° åœ¨å¼€å§‹è¿™ä¸ªå®éªŒä¹‹å‰ï¼Œä¸ºä½ çš„æ–‡ä»¶åˆ›å»ºä¸€ä¸ªæ–°çš„æ–‡ä»¶å¤¹ã€‚
$ mkdir -p lab7 \ && cd lab7 åŒæ­¥ä¸å¼‚æ­¥åœ°è°ƒç”¨ä¸€ä¸ªå‡½æ•° å½“ä½ åŒæ­¥è°ƒç”¨ä¸€ä¸ªå‡½æ•°æ—¶ï¼Œä¸€ä¸ªè¿æ¥ä¼šé€šè¿‡ç½‘å…³è¿æ¥åˆ°ä½ çš„å‡½æ•°ï¼Œå¹¶ä¸”åœ¨æ•´ä¸ªæ‰§è¡Œè¿‡ç¨‹ä¸­ä¿æŒå¼€æ”¾ã€‚åŒæ­¥è°ƒç”¨æ˜¯*é˜»å¡çš„ï¼Œæ‰€ä»¥ä½ åº”è¯¥çœ‹åˆ°ä½ çš„å®¢æˆ·ç«¯æš‚åœï¼Œå˜å¾—ä¸æ´»è·ƒï¼Œç›´åˆ°è¯¥å‡½æ•°å®Œæˆå…¶ä»»åŠ¡ã€‚
ç½‘å…³ä½¿ç”¨çš„è·¯ç”±æ˜¯ã€‚/function/&lt;function_name>ã€‚ ä½ å¿…é¡»ç­‰å¾…ï¼Œç›´åˆ°å®ƒå®Œæˆ ä½ åœ¨è°ƒç”¨åå¾—åˆ°ç»“æœ ä½ çŸ¥é“å®ƒæ˜¯é€šè¿‡è¿˜æ˜¯å¤±è´¥ å¼‚æ­¥ä»»åŠ¡ä»¥ç±»ä¼¼çš„æ–¹å¼è¿è¡Œï¼Œä½†æœ‰ä¸€äº›åŒºåˆ«ã€‚
ç½‘å…³ä½¿ç”¨ä¸åŒçš„è·¯ç”±ï¼š/async-function/&lt;function_name>ã€‚ å®¢æˆ·ç«¯ä»ç½‘å…³å¾—åˆ°ä¸€ä¸ªç«‹å³çš„202 æ¥å—çš„å“åº”ã€‚ è¯¥å‡½æ•°ç¨åä½¿ç”¨ä¸€ä¸ªé˜Ÿåˆ—å·¥ä½œå™¨æ¥è°ƒç”¨ é»˜è®¤æƒ…å†µä¸‹ï¼Œç»“æœè¢«ä¸¢å¼ƒ è®©æˆ‘ä»¬è¯•ä¸€è¯•å¿«é€Ÿæ¼”ç¤ºã€‚
faas-cli new --lang dockerfile long-task --prefix="&lt;your-docker-username-here>" ç¼–è¾‘long-task/Dockerfileå¹¶å°† fprocess æ”¹ä¸ºsleep 1ã€‚
ç°åœ¨æ„å»ºã€éƒ¨ç½²å¹¶åŒæ­¥è°ƒç”¨ä½ çš„å‡½æ•° 10 æ¬¡ï¼Œåƒè¿™æ ·ã€‚
echo -n "" | faas-cli invoke long-task echo -n "" | faas-cli invoke long-task echo -n "" | faas-cli invoke long-task echo -n "" | faas-cli invoke long-task echo -n "" | faas-cli invoke long-task echo -n "" | faas-cli invoke long-task echo -n "" | faas-cli invoke long-task echo -n "" | faas-cli invoke long-task echo -n "" | faas-cli invoke long-task echo -n "" | faas-cli invoke long-task ç°åœ¨å¼‚æ­¥è°ƒç”¨è¯¥å‡½æ•° 10 æ¬¡ã€‚...</p></section><footer class=entry-footer><span title="2022-01-04 13:44:02 +0800 +0800">January 4, 2022</span>&nbsp;Â·&nbsp;2 min&nbsp;Â·&nbsp;Fenix</footer><a class=entry-link aria-label="post link to Openfaas Workshop Lab7" href=https://zhenfeng-zhu.github.io/post/openfaas-workshop-lab7/></a></article><article class=post-entry><figure class=entry-cover><img loading=lazy src=https://github.com/openfaas/media/raw/master/OpenFaaS_Magnet_3_1_png.png alt></figure><header class=entry-header><h2>Openfaas Workshop Lab6</h2></header><section class=entry-content><p>å®éªŒ 6â€“ä½ çš„å‡½æ•°çš„ HTML åœ¨å¼€å§‹è¿™ä¸ªå®éªŒä¹‹å‰ï¼Œä¸ºä½ çš„æ–‡ä»¶åˆ›å»ºä¸€ä¸ªæ–°çš„æ–‡ä»¶å¤¹ã€‚
$ mkdir -p lab6\ && cd lab6 ä»ä¸€ä¸ªå‡½æ•°ä¸­ç”Ÿæˆå¹¶è¿”å›åŸºæœ¬çš„ HTML å‡½æ•°å¯ä»¥è¿”å› HTMLï¼Œå¹¶å°†Content-Typeè®¾ç½®ä¸ºtext/htmlã€‚å› æ­¤ï¼Œå‡½æ•°è¿”å›çš„ HTML å¯ä»¥é€šè¿‡æµè§ˆå™¨è¿›è¡Œæ¸²æŸ“ã€‚è®©æˆ‘ä»¬åˆ›å»ºä¸€ä¸ªç®€å•çš„å‡½æ•°ï¼Œç”Ÿæˆå¹¶è¿”å›ä¸€ä¸ªåŸºæœ¬çš„ HTMLã€‚
faas-cli new --lang python3 show-html --prefix="&lt;your-docker-username-here>" ç¼–è¾‘handler.pyã€‚
def handle(req): """handle a request to the function Args: req (str): request body """ html = '&lt;html>&lt;h2>Hi, from your function!&lt;/h2>&lt;/html>' return html è¿™å°†è¿”å› HTML ç»™è°ƒç”¨è€…ã€‚ è¿˜æœ‰ä¸€ä»¶äº‹æˆ‘ä»¬åº”è¯¥åšçš„æ˜¯è®¾ç½®å“åº”çš„Content-Type'ã€‚æˆ‘ä»¬100%ç¡®å®šè¿™ä¸ªå‡½æ•°å°†è¿”å›ä¸€ä¸ªHTMLï¼Œæ‰€ä»¥Content-Typeåº”è¯¥æ€»æ˜¯text/htmlã€‚æˆ‘ä»¬å¯ä»¥åˆ©ç”¨show-html.ymlæ–‡ä»¶ä¸­çš„environment`éƒ¨åˆ†æ¥è®¾ç½®ã€‚
ç¼–è¾‘show-html.ymlã€‚
provider: name: openfaas gateway: http://127.0.0.1:8080 functions: show-html: lang: python3 handler: ....</p></section><footer class=entry-footer><span title="2022-01-04 13:43:59 +0800 +0800">January 4, 2022</span>&nbsp;Â·&nbsp;3 min&nbsp;Â·&nbsp;Fenix</footer><a class=entry-link aria-label="post link to Openfaas Workshop Lab6" href=https://zhenfeng-zhu.github.io/post/openfaas-workshop-lab6/></a></article><article class=post-entry><figure class=entry-cover><img loading=lazy src=https://github.com/openfaas/media/raw/master/OpenFaaS_Magnet_3_1_png.png alt></figure><header class=entry-header><h2>Openfaas Workshop Lab5</h2></header><section class=entry-content><p>Lab 5 - åˆ›å»ºä¸€ä¸ª GitHub æœºå™¨äºº åœ¨å¼€å§‹è¿™ä¸ªå®éªŒä¹‹å‰ï¼Œä¸ºä½ çš„æ–‡ä»¶åˆ›å»ºä¸€ä¸ªæ–°çš„æ–‡ä»¶å¤¹ã€‚
$ mkdir -p lab5\ && cd lab5 æˆ‘ä»¬å°†ä½¿ç”¨ OpenFaaS çš„å‡½æ•°æ¥åˆ›å»ºä¸€ä¸ªåä¸º issue-botçš„ GitHub æœºå™¨äººã€‚
é—®é¢˜æœºå™¨äººçš„å·¥ä½œæ˜¯é€šè¿‡åˆ†æ æè¿° å­—æ®µçš„æƒ…ç»ªæ¥åˆ†æµæ–°çš„é—®é¢˜ï¼Œç„¶åå®ƒå°†åº”ç”¨ä¸€ä¸ªç§¯ææˆ–å®¡æŸ¥çš„æ ‡ç­¾ã€‚è¿™å°†æœ‰åŠ©äºç»´æŠ¤è€…åœ¨ç¹å¿™çš„å·¥ä½œä¸­ï¼Œå¯ä»¥ä¼˜å…ˆè€ƒè™‘å“ªäº›é—®é¢˜éœ€è¦é¦–å…ˆå¤„ç†ã€‚
é—®é¢˜æœºå™¨äººçš„å›¾ç¤º](./diagram/issue-bot.png)
è·å–ä¸€ä¸ª GitHub è´¦æˆ· æ³¨å†Œä¸€ä¸ªGitHub è´¦æˆ·ï¼Œå¦‚æœä½ è¿˜æ²¡æœ‰ä¸€ä¸ªè´¦æˆ·ã€‚
åˆ›å»ºä¸€ä¸ªæ–°çš„ä»“åº“ï¼Œå¹¶å°†å…¶ç§°ä¸ºbot-testã€‚
æ³¨æ„ï¼šæˆ‘ä»¬å°†åªä½¿ç”¨è¿™ä¸ªä»“åº“ä½œä¸ºåˆ›å»ºé—®é¢˜çš„æµ‹è¯•åœºæ‰€ã€‚ä½ ä¸éœ€è¦åœ¨é‚£é‡Œæäº¤ä»»ä½•ä»£ç ã€‚
å»ºç«‹ä¸€ä¸ªå¸¦æœ‰å…¥å£çš„éš§é“ ä½ éœ€è¦æ¥æ”¶æ¥è‡ª GitHub çš„ webhooksã€‚å¹¸è¿çš„æ˜¯ï¼Œinlets è®©è¿™ä¸€åˆ‡å˜å¾—éå¸¸å¿«é€Ÿå’Œç®€å•ã€‚å®ƒå¯ä»¥æŒ‰æœˆæˆ–æŒ‰å¹´è®¢é˜…ï¼Œæ‰€ä»¥å¦‚æœä½ ä¸ç¡®å®šæ˜¯å¦å…¨å¹´éƒ½éœ€è¦å®ƒï¼Œä½ å¯ä»¥åªä»˜ä¸€ä¸ªæœˆçš„é’±ã€‚
inlets æœ‰ä¸€ä¸ªå«åš inlets-operator çš„ Kubernetes é›†æˆã€‚ä½ å¯ä»¥ç”¨å®ƒæ¥è®¾ç½® LoadBalancers æˆ–å¸¦æœ‰ TLS çš„ Ingressã€‚å®ƒçš„å·¥ä½œåŸç†æ˜¯ä¸ºä½ åˆ›å»ºä¸€ä¸ªäº‘è™šæ‹Ÿæœºï¼Œå¹¶åœ¨é‚£é‡Œè¿è¡Œä¸€ä¸ªéš§é“æœåŠ¡å™¨ï¼Œç„¶åä¸ºä½ è¿è¡Œä¸€ä¸ªéš§é“å®¢æˆ·ç«¯ä½œä¸ºä¸€ä¸ª Podï¼Œä½ å°±å¯ä»¥è·å¾—ä¼ å…¥æµé‡ã€‚
åœ¨ä½ å–œæ¬¢çš„äº‘æä¾›å•†ï¼ˆå¦‚ DigitalOceanï¼‰çš„ API é¡µé¢ä¸‹åˆ›å»ºä¸€ä¸ªå†™å…¥è®¿é—®ä»¤ç‰Œï¼Œç„¶åå°†å†…å®¹ä¿å­˜åˆ°digital-ocean-api-token.txtã€‚
è®¾ç½®å®Œè®¢é˜…åï¼Œå°†ä½ çš„å¯†é’¥ä¿å­˜åˆ°$HOME/.inlets/LICENSEï¼Œç„¶åè¿è¡Œä»¥ä¸‹ç¨‹åºã€‚
arkade install inlets-operator \ --provider digitalocean \ --region lon1 \ --token-file $HOME/digital-ocean-api-token....</p></section><footer class=entry-footer><span title="2022-01-04 13:43:56 +0800 +0800">January 4, 2022</span>&nbsp;Â·&nbsp;4 min&nbsp;Â·&nbsp;Fenix</footer><a class=entry-link aria-label="post link to Openfaas Workshop Lab5" href=https://zhenfeng-zhu.github.io/post/openfaas-workshop-lab5/></a></article><article class=post-entry><header class=entry-header><h2>Blockchain æ•°æ®ç»“æ„åˆ†æ</h2></header><section class=entry-content><p>åŒºå— æƒ³è¦äº†è§£åŒºå—åˆ°åº•æ˜¯ä»€ä¹ˆï¼Œæœ€ç®€å•å¿«æ·çš„æ–¹æ³•å°±æ˜¯åˆ†æå®ƒçš„æ•°æ®ç»“æ„ï¼Œä»¥ bitcoin ç§çš„åŒºå—ä¸ºä¾‹ï¼š
{ ã€€"hash":"00000000000000000018b0a6ae560fa33c469b6528bc9e0fb0c669319a186c33", ã€€"confirmations":1009, ã€€"strippedsize":956228, ã€€"size":1112639, ã€€"weight":3981323, ã€€"height":514095, ã€€"version":536870912, ã€€"versionHex":"20000000", ã€€"merkleroot":"5f8f8e053fd4c0c3175c10ac5189c15e6ba218909319850936fe54934dcbfeac", ã€€"tx":[ ã€€// ... ã€€], ã€€"time":1521380124, ã€€"mediantime":1521377506, ã€€"nonce":3001236454, ã€€"bits":"17514a49", ã€€"difficulty":3462542391191.563, ã€€"chainwork":"0000000000000000000000000000000000000000014d2b41a340e60b72292430", ã€€"previousblockhash":"000000000000000000481ab128418847dc25db4dafec464baa5a33e66490990b", ã€€"nextblockhash":"0000000000000000000c74966205813839ad1c6d55d75f95c9c5f821db9c3510" } åœ¨è¿™ä¸ª Block çš„ç»“æ„ä½“ä¸­ï¼Œpreviousblockhash å’Œ merkleroot æ˜¯ä¸¤ä¸ªæœ€é‡è¦çš„å­—æ®µï¼›å‰è€…æ˜¯ä¸€ä¸ªå“ˆå¸ŒæŒ‡é’ˆï¼Œå®ƒå…¶å®æ˜¯å‰ä¸€ä¸ª Block çš„å“ˆå¸Œï¼Œé€šè¿‡ previousblockhash æˆ‘ä»¬èƒ½é€’å½’åœ°æ‰¾åˆ°å…¨éƒ¨çš„ Blockï¼Œä¹Ÿå°±æ˜¯æ•´æ¡ä¸»é“¾ï¼Œåè€…æ˜¯ä¸€ä¸ª Merkle æ ‘çš„æ ¹ï¼ŒMerkle æ ‘ä¸­åŒ…å«æ•´ä¸ª Block ä¸­çš„å…¨éƒ¨äº¤æ˜“ï¼Œé€šè¿‡ä¿å­˜ merklerootï¼Œæˆ‘ä»¬å¯ä»¥ä¿è¯å½“å‰ Block ä¸­ä»»æ„äº¤æ˜“éƒ½ä¸ä¼šè¢«ä¿®æ”¹ã€‚ Ethereum çš„åŒºå—é“¾æ¨¡å‹è™½ç„¶ä¸ Bitcoin æœ‰éå¸¸å¤§çš„ä¸åŒï¼Œä½†æ˜¯å®ƒçš„ Block ç»“æ„ä¸­ä¹Ÿæœ‰ç€ç±»ä¼¼çš„ä¿¡æ¯ï¼š...</p></section><footer class=entry-footer><span title="2022-01-04 10:04:05 +0800 +0800">January 4, 2022</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;Fenix</footer><a class=entry-link aria-label="post link to Blockchain æ•°æ®ç»“æ„åˆ†æ" href=https://zhenfeng-zhu.github.io/post/blockchain-schema/></a></article><article class=post-entry><header class=entry-header><h2>è½»æœåŠ¡ nodejs åŠ©åŠ›çˆ¬è™« web3</h2></header><section class=entry-content><p>å‘¨æœ«çš„æ—¶å€™ï¼Œå†™äº†ä¸€ä¸ªç®€å•çš„å°é¡¹ç›®ï¼Œç”¨æ¥æŠ“å– web3 çš„æ–‡ç« ï¼Œç„¶åå­˜åˆ°æœ¬åœ°ã€‚æœ€åé€‰å–äº†å…¬å¸å¯¹å¤–çš„è½»æœåŠ¡ï¼šhttps://qingfuwu.cn/docs/nodejs/
æ•´é¡¹ç›®ç”¨åˆ°äº†ä¸¤ä¸ªåº“
axiosï¼šç”¨æ¥åš http è¯·æ±‚ cheerioï¼šç”¨æ¥è§£æ html è§‚å¯Ÿç›®æ ‡ç½‘é¡µçš„æ ¼å¼ æˆ‘ä»¬ä»¥å·´æ¯”ç‰¹ä¸ºä¾‹ï¼šhttps://www.8btc.com/web3.0ï¼Œæ‰“å¼€æ§åˆ¶å°ï¼Œå®šä½åˆ°æ­£æ–‡çš„ divï¼Œå¯ä»¥å‘ç°æ˜¯ article-listã€‚
å³é”®å¤åˆ¶ä¸€ä¸‹ selectorï¼Œç„¶ååœ¨ä»£ç ä¸­è¿™æ ·å®ç°å°±å¯ä»¥äº†ã€‚
æŠ“å–ç½‘é¡µä¿¡æ¯ const cheerio = require('cheerio').default const axios = require('axios').default async function getData() { const data = await (await axios.get('https://www.8btc.com/web3.0', { headers: { 'User-Agent': 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.110 Safari/537.36' } })).data const $ = cheerio.load(data) let list = [] $('#news > div....</p></section><footer class=entry-footer><span title="2021-12-20 09:58:58 +0800 +0800">December 20, 2021</span>&nbsp;Â·&nbsp;2 min&nbsp;Â·&nbsp;Fenix</footer><a class=entry-link aria-label="post link to è½»æœåŠ¡ nodejs åŠ©åŠ›çˆ¬è™« web3" href=https://zhenfeng-zhu.github.io/post/how-to-crawl-a-web-in-nodejs/></a></article><article class=post-entry><header class=entry-header><h2>Crystal Roadmap</h2></header><section class=entry-content><p>This roadmap defines the things that we want to have in the language and plan to do.
Language Stuff that has to do with the language syntax, semantic and runtime.
Concurrency Finalize multithreading support, so fibers can run on multiple threads.
Windows support Finalize support for Windows platform. The compiler already works, but some stdlib features like concurrency support are still missing. Ongoing efforts on #5430.
Type system review Make a review and possible formalisation of Crystalâ€™s type system, with a strong emphasis on generics, type restrictions and the meta-model in general....</p></section><footer class=entry-footer><span title="2021-10-28 10:11:41 +0800 +0800">October 28, 2021</span>&nbsp;Â·&nbsp;2 min&nbsp;Â·&nbsp;Fenix</footer><a class=entry-link aria-label="post link to Crystal Roadmap" href=https://zhenfeng-zhu.github.io/post/crystal_roadmap/></a></article><article class=post-entry><header class=entry-header><h2>Crystal 1.2 ç‰ˆæœ¬æ›´æ–°è¯´æ˜</h2></header><section class=entry-content><p>Crystal 1.2.0 å‘å¸ƒ æˆ‘ä»¬æ­£åœ¨å‘å¸ƒä¸€ä¸ªåŒ…å«å¤šä¸ªé”™è¯¯ä¿®å¤å’Œæ”¹è¿›çš„æ–°ç‰ˆæœ¬ã€‚ä¸‹é¢æˆ‘ä»¬åˆ—å‡ºäº†æœ€é‡è¦æˆ–æœ€æœ‰è¶£çš„å˜åŒ–ï¼Œä½†æ²¡æœ‰æåˆ°å‡ ä¸ªé”™è¯¯ä¿®æ­£ã€‚æœ‰å…³è¯¦ç»†ä¿¡æ¯ï¼Œè¯·è®¿é—®å‘è¡Œè¯´æ˜ã€‚é‡å¤§æ›´æ”¹æ ‡æœ‰ âš ï¸ã€‚
ç»Ÿè®¡æ•°æ® åœ¨æ­¤ç‰ˆæœ¬ä¸­ï¼Œæˆ‘ä»¬åŒ…å«äº†è‡ª 1.1.1 ç‰ˆæœ¬ä»¥æ¥ 32 ä½è´¡çŒ®è€…çš„ 181 ä¸ª PRã€‚æˆ‘ä»¬æ„Ÿè°¢ä¸ºæ”¹è¿›è¯­è¨€åŠå…¶æ ‡å‡†åº“æ‰€åšçš„æ‰€æœ‰åŠªåŠ›ï¼â¤ï¸
å¹³å°æ”¯æŒ æ­£å¦‚åœ¨ 1.2 çš„ä¸Šä¸€ç¯‡åšå®¢æ–‡ç« ä¸­æåˆ°çš„ï¼Œæˆ‘ä»¬å†³å®šé™ä½å¯¹ 32 ä½ x86 æ¶æ„çš„æ”¯æŒã€‚ä½†æ˜¯æˆ‘ä»¬ç¡®å®æœ‰ä¸€äº›å¥½æ¶ˆæ¯è¦åˆ†äº«ï¼
æˆ‘ä»¬åœ¨åŸç”Ÿ Windows æ”¯æŒæ–¹é¢å–å¾—äº†è¿›å±•ï¼Œåœ¨æ­¤ç‰ˆæœ¬ä¸­åŒ…æ‹¬å¥—æ¥å­—å®ç°ï¼ˆ#11205ã€#11137ã€#10605ã€#10605ï¼‰ã€‚
ä¸ Windows ç›¸å…³ï¼Œä¹Ÿä¸ ARM64 æ¶æ„ç›¸å…³ï¼Œæˆ‘ä»¬ä¿®å¤äº†ä¸€ä¸ªé‡è¦çš„ä»£ç ç”Ÿæˆé”™è¯¯ã€‚æˆ‘ä»¬ç°åœ¨å¤„äºå°† aarch64 å¹³å°æå‡åˆ° Tier 1 çš„æ¡ä»¶ï¼Œé¢„è®¡å¾ˆå¿«å°±ä¼šæ”¯æŒã€‚è¿™ä¹Ÿä¸å¸¦æœ‰ M1 èŠ¯ç‰‡ç»„çš„ macOS ç›¸å…³ï¼šä»è¿™ä¸ªç‰ˆæœ¬å¼€å§‹ï¼Œæˆ‘ä»¬åŒ…å«ä¸€ä¸ªé€‚ç”¨äº x86 å’Œ M1 mac çš„é€šç”¨ macOS åŒ…ã€‚
æˆ‘ä»¬å‘ç° Windows å’Œ M1 çš„ mac ä¸Šå‡ºç°çš„ä¸¤ä¸ªé”™è¯¯æ¥è‡ª LLVM 11 å’Œ 12ã€‚æˆ‘ä»¬é¢„è®¡è¯¥ä¿®å¤å°†éšæœ€è¿‘å‘å¸ƒçš„ LLVM 13 ä¸€èµ·æä¾›ã€‚Crystal 1.2.0 ä¸ LLVM 12 å…¼å®¹ï¼Œå°½ç®¡æˆ‘ä»¬å»ºè®®ä¸è¦ä½¿ç”¨ LLVM 11 å’Œ 12.
è¯­è¨€å˜åŒ– ç°åœ¨å¯ä»¥å°†æ³›å‹ç±»çš„å­ç±»åˆ†é…ç»™çˆ¶ç±»çš„å®ä¾‹ï¼š...</p></section><footer class=entry-footer><span title="2021-10-17 23:08:51 +0800 +0800">October 17, 2021</span>&nbsp;Â·&nbsp;2 min&nbsp;Â·&nbsp;Fenix</footer><a class=entry-link aria-label="post link to Crystal 1.2 ç‰ˆæœ¬æ›´æ–°è¯´æ˜" href=https://zhenfeng-zhu.github.io/post/crystal1.2/></a></article><article class=post-entry><header class=entry-header><h2>å¦‚ä½•ç†è§£å¯è§‚æµ‹æ€§</h2></header><section class=entry-content><p>å¯è§‚æµ‹æ€§ å¯è§‚æµ‹æ€§ â‰  ç›‘æ§ æ ¸å¿ƒä¸åŒ
ç›‘æ§ä»¥è¿ç»´ä¸ºæ ¸å¿ƒï¼Œé€šè¿‡å„é¡¹æŒ‡æ ‡æ¥å®šä¹‰æ•´ä½“çš„è¿è¡ŒçŠ¶æ€ã€å¤±è´¥æƒ…å†µã€‚ è§‚æµ‹åˆ™ä»¥å¼€å‘ä¸ºæ ¸å¿ƒï¼Œé™¤äº†ç›‘æ§ï¼Œå®ƒè¿˜ä¼šå¯¹ç³»ç»Ÿè¿›è¡Œåˆ†æã€‚ ç»´åº¦ä¸åŒ
ç›‘æ§æ˜¯ä»å¤–å›´çš„è§’åº¦ï¼Œé€šè¿‡å„ç§æŒ‡æ ‡ï¼ˆæœºå™¨ CPUã€è´Ÿè½½ã€ç½‘ç»œç­‰ç»´åº¦ï¼‰æ¥åˆ¤æ–­æ•´ä¸ªç³»ç»Ÿçš„æ‰§è¡Œæƒ…å†µã€‚ å¯è§‚æµ‹æ€§åˆ™åœ¨ä¸Šè¿°å¤–éƒ¨æŒ‡æ ‡åŸºç¡€ä¸Šï¼Œä»¥åº”ç”¨å†…çš„å„ä¸ªç»´åº¦æ¥å±•å¼€æ¨æµ‹ï¼Œé€šè¿‡äºŒè€…çš„æ•°æ®ç»“åˆæ¥çœŸå®çš„ååº”åº”ç”¨çš„è¿è¡Œæƒ…å†µã€‚ å±•ç°çš„ä¿¡æ¯ä¸åŒ
æœ‰äº›ç³»ç»Ÿåœ¨æ­£å¸¸è¿è¡Œæ—¶ååˆ†ç¨³å®šï¼Œä½†æ˜¯ä¸€åˆ°é«˜å¹¶å‘å°±ä¼šå‡ºç°é—®é¢˜ï¼Œæ­¤æ—¶ç›‘æ§åªèƒ½æ±‡æŠ¥é—®é¢˜å‡ºç°çš„çŠ¶å†µï¼Œè€Œå¯è§‚æµ‹æ€§å¯ä»¥å¾ˆå¥½çš„é€šè¿‡å›¾å½¢åŒ–çš„æ–¹å¼å‘ŠçŸ¥æˆ‘ä»¬é—®é¢˜çš„åŸå› ï¼Œä¸ç”¨æˆ‘ä»¬é€šè¿‡ç»éªŒæ¥çŒœæµ‹ã€‚ å¯è§‚æµ‹æ€§æ‰“ç ´äº†å¼€å‘å’Œè¿ç»´çš„åŸæœ‰é—®é¢˜è§£å†³æ–¹å¼ï¼Œä¸å†æ˜¯è¿ç»´å‘ç°é—®é¢˜å¼€å‘è§£å†³ï¼Œè€Œæ˜¯ä»¥å¼€å‘ä¸ºä¸­å¿ƒã€‚
ç›‘æ§æ•°æ®æ¥æº ç«¯ä¸Šè®¿é—®
ç”¨æˆ·ä½“éªŒç›‘æ§ web é¡µé¢çš„ç™½å±æ—¶é—´ dom å…ƒç´ /èµ„æºåŠ è½½è€—æ—¶ æ–‡æ¡£ç½‘ç»œè€—æ—¶ app å¡é¡¿ç‡ å´©æºƒç‡ çƒ­å¯åŠ¨åŠ è½½æ—¶é•¿ æ—¥å¿— ç«¯åˆ°ç«¯ ç”¨æˆ·ç«¯åˆ°åç«¯çš„è¯·æ±‚çŠ¶å†µï¼Œè®¿é—®é‡ã€æˆåŠŸç‡ã€å“åº”æ—¶é—´ç­‰ã€‚ è¿˜éœ€è¦ç«¯ä¸Šæ‰€å¤„çš„åœ°åŒºã€ç½‘ç»œç¯å¢ƒã€å“åº”çŠ¶æ€ç  å¯ç”¨ç‡ è®¿é—®æ˜¯å¦å¯ç”¨ã€å“åº”è€—æ—¶é•¿çŸ­çš„ä¸€äº›æŒ‡æ ‡å’Œ cdnã€dns ç­‰å…¬å…±èµ„æºæœ‰å…³ç³»ã€‚ åº”ç”¨ç¨‹åº
æ‰§è¡Œæƒ…å†µ èµ„æºæ¶ˆè€— vm æŒ‡æ ‡ç›‘æ§ å®¹é‡ æœåŠ¡å…³ç³» åº”ç”¨æ—¥å¿— å¥åº·æƒ…å†µ ä¸šåŠ¡ç›‘æ§...</p></section><footer class=entry-footer><span title="2021-10-15 09:45:38 +0800 +0800">October 15, 2021</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;Fenix</footer><a class=entry-link aria-label="post link to å¦‚ä½•ç†è§£å¯è§‚æµ‹æ€§" href=https://zhenfeng-zhu.github.io/post/%E5%A6%82%E4%BD%95%E7%90%86%E8%A7%A3%E5%8F%AF%E8%A7%82%E6%B5%8B%E6%80%A7/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=https://zhenfeng-zhu.github.io/post/page/8/>Â« Prev Page</a>
<a class=next href=https://zhenfeng-zhu.github.io/post/page/10/>Next Page Â»</a></nav></footer></main><footer class=footer><span>&copy; 2022 <a href=https://zhenfeng-zhu.github.io>Awesome Fenix</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();var e=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView({behavior:"smooth"}),e==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${e}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>