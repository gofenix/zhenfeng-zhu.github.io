<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Posts | PaperMod</title><meta name=keywords content><meta name=description content="Posts - PaperMod"><meta name=author content="Theme PaperMod"><link rel=canonical href=/post/><link crossorigin=anonymous href=/assets/css/stylesheet.min.c88963fe2d79462000fd0fb1b3737783c32855d340583e4523343f8735c787f0.css integrity="sha256-yIlj/i15RiAA/Q+xs3N3g8MoVdNAWD5FIzQ/hzXHh/A=" rel="preload stylesheet" as=style><link rel=icon href=favicon.ico><link rel=icon type=image/png sizes=16x16 href=favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=favicon-32x32.png><link rel=apple-touch-icon href=apple-touch-icon.png><link rel=mask-icon href=safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.97.3"><link rel=alternate type=application/rss+xml href=/post/index.xml><link rel=alternate hreflang=en href=/post/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Posts"><meta property="og:description" content="Theme PaperMod - https://github.com/adityatelange/hugo-PaperMod"><meta property="og:type" content="website"><meta property="og:url" content="/post/"><meta property="og:image" content="papermod-cover.png"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="papermod-cover.png"><meta name=twitter:title content="Posts"><meta name=twitter:description content="Theme PaperMod - https://github.com/adityatelange/hugo-PaperMod"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"/post/"}]}</script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8502076734034112" crossorigin=anonymous></script></head><body class=list id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8502076734034112" crossorigin=anonymous></script><header class=header><nav class=nav><div class=logo><a href accesskey=h title="PaperMod (Alt + H)">PaperMod</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li><li><a href=/fr/ title=French aria-label=:fr:>ğŸ‡«ğŸ‡·</a></li><li><a href=/fa/ title=Fa aria-label=Fa>Fa</a></li></ul></span></div><ul id=menu><li><a href=archives title=Archive><span>Archive</span></a></li><li><a href=categories/ title=Categories><span>Categories</span></a></li><li><a href=search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><header class=page-header><div class=breadcrumbs><a href>Home</a></div><h1>Posts</h1></header><article class=post-entry><header class=entry-header><h2>è¯‘ï¼švertx-kotlin-coroutine</h2></header><section class=entry-content><p>å°è¯•ç¿»è¯‘ vertx çš„æ–‡æ¡£ã€‚å°Šé‡åŸæ–‡ï¼Œéƒ¨åˆ†ä½¿ç”¨è‡ªå·±çš„ç†è§£ã€‚
Vert.x çš„ kotlin åç¨‹æä¾›äº† async/await æˆ–è€…å’Œ go ç±»ä¼¼çš„ channelã€‚è¿™ä½¿å¾—ä½ èƒ½å¤Ÿä»¥ç†Ÿæ‚‰çš„é¡ºåºé£æ ¼å†™å‚ç›´ä»£ç ã€‚
vertx-lang-kotlin-coroutines é›†æˆäº† kotlin åç¨‹ï¼Œç”¨äºæ‰§è¡Œå¼‚æ­¥æ“ä½œå’Œå¤„ç†äº‹ä»¶ã€‚è¿™æ ·å°±èƒ½å¤Ÿä»¥åŒæ­¥ä»£ç çš„æ¨¡å‹ç¼–å†™ä»£ç ï¼Œè€Œä¸”ä¸ä¼šé˜»å¡å†…æ ¸çº¿ç¨‹ã€‚
ç®€ä»‹ vert.x ä¸è®¸å¤šæ—§çš„åº”ç”¨å¹³å°ç›¸æ¯”çš„ä¸€ä¸ªä¸»è¦ä¼˜åŠ¿æ˜¯å®ƒå‡ ä¹å®Œå…¨æ˜¯éé˜»å¡çš„ï¼ˆå†…æ ¸çº¿ç¨‹ï¼‰ã€‚è¿™å…è®¸åŸºäº vert.x çš„ç¨‹åºä½¿ç”¨æå°‘æ•°çš„å†…æ ¸çº¿ç¨‹å¤„ç†å¤§é‡çš„å¹¶å‘ï¼ˆä¾‹å¦‚ï¼šè®¸å¤šè¿æ¥å’Œæ¶ˆæ¯ï¼‰ï¼Œå¯ä»¥è·å¾—æ›´å¥½çš„ä¼¸ç¼©æ€§ã€‚
vert.x çš„éé˜»å¡ç‰¹æ€§å½¢æˆäº†éé˜»å¡ APIã€‚éé˜»å¡ API å¯ä»¥é‡‡ç”¨å¤šç§å½¢å¼æ¥å®ç°ï¼ŒåŒ…æ‹¬å›è°ƒå‡½æ•°ï¼Œpromiseï¼Œfibers æˆ–è€…å“åº”å¼æ‰©å±•ã€‚vert.x çš„æ ¸å¿ƒ API ä½¿ç”¨å›è°ƒå‡½æ•°çš„é£æ ¼ï¼Œä½†æ˜¯å®ƒä¹Ÿæ”¯æŒå…¶ä»–æ¨¡å‹ï¼Œå¦‚ RxJava 1 å’Œ 2ã€‚
åœ¨æŸäº›æƒ…å†µä¸‹ï¼Œä½¿ç”¨å¼‚æ­¥çš„ API ç¼–ç¨‹å¯èƒ½æ¯”ä½¿ç”¨ç»å…¸çš„é¡ºåºä»£ç é£æ ¼æ›´å…·æœ‰æŒ‘æˆ˜æ€§ï¼Œç‰¹åˆ«æ˜¯éœ€è¦æŒ‰ç…§é¡ºåºå®Œæˆè‹¥å¹²æ“ä½œã€‚å¦å¤–ï¼Œä½¿ç”¨å¼‚æ­¥ API æ—¶ï¼Œé”™è¯¯çš„ä¼ æ’­ä¹Ÿæ›´ä¸ºå¤æ‚ã€‚
vertx-lang-kotlin-coroutines ä½¿ç”¨åç¨‹ã€‚åç¨‹æ˜¯éå¸¸è½»é‡çº§çš„çº¿ç¨‹ï¼Œè€Œä¸”ä¸ä¸åº•å±‚çš„å†…æ ¸çº¿ç¨‹å¯¹åº”ã€‚æ‰€ä»¥å½“åç¨‹éœ€è¦â€œé˜»å¡â€æ—¶ï¼Œå®ƒä¼šæš‚åœå¹¶é‡Šæ”¾å½“å‰çš„å†…æ ¸çº¿ç¨‹ï¼Œä½¿å¾—å¦ä¸€ä¸ªåç¨‹å¯ä»¥å¤„ç†äº‹ä»¶ã€‚
vertx-lang-kotlin-coroutines ä½¿ç”¨ kotlinx.coroutines æ¥å®ç°åç¨‹ã€‚
vertx-lang-kotlin-coroutines ç›®å‰ä»…é€‚ç”¨äº kotlinï¼Œè€Œä¸”æ˜¯ kotlin1.1 çš„ä¸€ä¸ªå®éªŒç‰¹æ€§ã€‚
ä»ä¸€ä¸ª vertx.x çš„ contex ä¸­å¯åŠ¨åç¨‹ å¯¼å…¥ io.vertx.kotlin.coroutines.VertxCoroutineï¼Œlaunchï¼ˆåç¨‹ç”Ÿæˆå™¨ï¼‰æ–¹æ³•ä¸­å…è®¸è¿è¡Œä¸€æ®µä»£ç ä½œä¸ºå¯ä»¥æš‚åœçš„åç¨‹ï¼š
val vertx = Vertx.vertx() vertx.deployVerticle(ExampleVerticle()) launch(vertx.dispatcher()) { val timerId = awaitEvent&lt;Long> { handler -> vertx....</p></section><footer class=entry-footer><span title="2018-06-02 16:00:52 +0000 UTC">June 2, 2018</span>&nbsp;Â·&nbsp;5 min&nbsp;Â·&nbsp;Theme PaperMod</footer><a class=entry-link aria-label="post link to è¯‘ï¼švertx-kotlin-coroutine" href=/post/vertx-kotlin-coroutine/></a></article><article class=post-entry><header class=entry-header><h2>å°è®® async/await å’Œ coroutine</h2></header><section class=entry-content><p>Being happy doesnâ€™t mean that everything is perfect. It means that you decided to look beyond the imperfections.
åç«¯ç¼–ç¨‹ï¼Œæ¶‰åŠæœ€å¤šçš„å°±æ˜¯å¹¶å‘ã€‚ç®€å•ç†è§£å°±æ˜¯ï¼š
å¹¶å‘æ˜¯åŒæ—¶ç®¡ç†å¤šä¸ªä»»åŠ¡å»æ‰§è¡Œï¼Œå¹¶è¡Œæ˜¯é’ˆå¯¹å¤šæ ¸å¤„ç†å™¨ï¼ŒåŒæ—¶æ‰§è¡Œå¤šä¸ªä»»åŠ¡ã€‚å¯ä»¥ç†è§£ä¸ºä¸€ä¸ªæ˜¯ manageï¼Œä¸€ä¸ªæ˜¯ runã€‚
å¹¶å‘ä¸€èˆ¬ç‰¹æŒ‡ IOï¼ŒIO æ˜¯ç‹¬ç«‹äº CPU çš„è®¾å¤‡ï¼ŒIO è®¾å¤‡é€šå¸¸è¿œè¿œæ…¢äº CPUï¼Œæ‰€ä»¥æˆ‘ä»¬å¼•å…¥äº†å¹¶å‘çš„æ¦‚å¿µï¼Œè®© CPU å¯ä»¥ä¸€æ¬¡æ€§å‘èµ·å¤šä¸ª IO æ“ä½œè€Œä¸ç”¨ç­‰å¾… IO è®¾å¤‡åšå®Œä¸€ä¸ªæ“ä½œå†åšä»¤ä¸€ä¸ªã€‚åŸç†å°±æ˜¯éé˜»å¡æ“ä½œ+äº‹ä»¶é€šçŸ¥ã€‚
ç¡¬ä»¶åº•å±‚ä¸Šæˆ‘å…¶å®ä¸å…³å¿ƒï¼Œä¸»è¦å°±æ˜¯åœ¨å†™ç¨‹åºä¸Šï¼Œå¦‚ä½•ç®€å•çš„å»å†™å¹¶å‘çš„ä»£ç ã€‚åœ¨è¯­æ³•å±‚é¢ä¸Šå¯¹å¹¶å‘åšçš„æ¯”è¾ƒå¥½çš„ï¼Œå¾ˆé€‚åˆåšæœåŠ¡ç«¯ï¼Œæ¯”å¦‚ goï¼Œæ¯”å¦‚ nodeï¼Œåˆæ¯”å¦‚æŸäº›å‡½æ•°å¼è¯­è¨€ã€‚æˆ‘æœ€è¿‘æœ€è¿‘ä¸»è¦ä½¿ç”¨çš„æ˜¯ node å’Œ kotlinã€‚
é‚£ä¹ˆåœ¨å†™å¹¶å‘ä»£ç çš„æ—¶å€™ï¼Œå°±ä¼šæ—¶ä¸æ—¶çš„æƒ³è¿™æ ·ä¸€ä¸ªé—®é¢˜ï¼š
ä¸€ä¸ªé—®é¢˜ å½“ä»£ç é‡åˆ°ä¸€ä¸ªâ€œæš‚æ—¶ä¸èƒ½å®Œæˆâ€çš„æµç¨‹æ—¶ï¼ˆä¾‹å¦‚å»ºç«‹ä¸€ä¸ª tcp é“¾æ¥ï¼Œå¯èƒ½éœ€è¦ 5ms æ‰èƒ½å»ºç«‹ï¼‰ï¼Œä»–ä¸æƒ³é˜»å¡åœ¨è¿™é‡Œç¡çœ ï¼Œæƒ³æš‚æ—¶ç¦»å¼€ç°åœºå»å¹²ç‚¹åˆ«çš„äº‹æƒ…ï¼ˆä¾‹å¦‚çœ‹çœ‹å¦å¤–ä¸€ä¸ªå·²ç»å»ºç«‹çš„é“¾æ¥æ˜¯å¦å¯ä»¥æ”¶åŒ…äº†ï¼‰ã€‚é—®é¢˜æ˜¯ï¼šç¦»å¼€ç°åœºåï¼Œå½“ä½ å›æ¥çš„æ—¶å€™ï¼Œä¸Šä¸‹æ–‡è¿˜åƒä½ èµ°çš„æ—¶å€™å—ï¼Ÿ
è·³è½¬ç¦»å¼€ï¼Œåœ¨ä»»ä½•è¯­è¨€é‡Œéƒ½æœ‰ 2 ç§æœ€åŸºæœ¬çš„æ–¹æ³•ï¼š1ï¼‰ä»å½“å‰å‡½æ•°è¿”å›ï¼› 2ï¼‰è°ƒç”¨ä¸€ä¸ªæ–°çš„å‡½æ•°ã€‚ å‰è€…ä¼šæŠŠä¸Šä¸‹æ–‡ä¸­çš„å±€éƒ¨å˜é‡å’Œå‡½æ•°å‚æ•°å…¨éƒ¨æ‘§æ¯ï¼Œé™¤éä»–è¿”å›å‰æŠŠè¿™äº›å˜é‡æ‰¾ä¸ªåˆ«çš„åœ°æ–¹ä¿å­˜èµ·æ¥ï¼›åè€…åˆ™èƒ½ä¿æŠ¤ä½æ•´ä¸ªä¸Šä¸‹æ–‡çš„å†…å­˜ï¼ˆé™¤äº†åç¨‹åˆ‡æ¢åä¼šæ‘§æ¯ä¸€äº›å¯„å­˜å™¨ï¼‰ï¼Œè€Œä¸”è·³è½¬å›æ¥ä¹Ÿæ˜¯å¸¸è§„æ–¹æ³•ï¼šå‡½æ•°è¿”å›ã€‚
åœ¨å†™ node çš„æ—¶å€™ï¼ŒåŸºæœ¬ä¸Šæ˜¯æ— è„‘ä¸Š async/awaitã€‚æ¯æ¬¡çœ‹åˆ°å›è°ƒå‡½æ•°çš„æ—¶å€™ï¼Œå¼ºè¿«ç—‡å°±çŠ¯äº†ï¼Œæ€»æ˜¯æƒ³æ–¹è®¾æ³•å°†é‚£ä¸ªæ–¹æ³•è½¬æˆ promiseï¼Œç„¶åä½¿ç”¨ await è·å¾—ç»“æœã€‚æ— è„‘å°è¯•äº† bluebird å’Œ node çš„ utilï¼Œè™½ç„¶æœ‰äº›æ˜¯å¾ˆå¥½ç”¨çš„ï¼Œä½†æ˜¯æœ‰çš„è¿˜æ˜¯æ— æ³•è¾¾åˆ°æˆ‘é¢„æœŸçš„ã€‚é ç€æ— è„‘çš„ async/awaitï¼Œå®ç°äº†å¾ˆå¤šåŠŸèƒ½ï¼Œä»£ç å†™èµ·æ¥ä¹Ÿæ˜¯å¿«çš„é£èµ·ï¼Œä½†æ˜¯åªé¡¾ç€åšä¸šåŠ¡è€Œä¸æ·±å…¥æ€è€ƒçš„è¯ï¼Œæ˜¯ä¸€ä¸ªä¸å¥½çš„è¡¨ç°ï¼Œæ‰€ä»¥æˆ‘å°±åœä¸‹æ¥æœäº†å¾ˆå¤š async/await çš„ä¸œè¥¿ï¼Œç‰¹åˆ«æ˜¯ä»é˜®ä¸€å³°è€å¸ˆé‚£é‡Œæ”¶è·äº†å¾ˆå¤šã€‚...</p></section><footer class=entry-footer><span title="2018-05-21 19:37:14 +0000 UTC">May 21, 2018</span>&nbsp;Â·&nbsp;2 min&nbsp;Â·&nbsp;Theme PaperMod</footer><a class=entry-link aria-label="post link to å°è®® async/await å’Œ coroutine" href=/post/async/></a></article><article class=post-entry><header class=entry-header><h2>elasticsearch</h2></header><section class=entry-content><p>ä»¥å‰æ²¡æœ‰å¥½å¥½å­¦çš„ä¸œè¥¿ï¼Œç°åœ¨åœ¨å·¥ä½œä¸­æ…¢æ…¢çš„è¡¥å›æ¥äº†ã€‚
åŸºç¡€æ¦‚å¿µ ç´¢å¼• es æ˜¯å°†æ•°æ®å­˜å‚¨åœ¨ä¸€ä¸ªæˆ–è€…å¤šä¸ªç´¢å¼•ï¼ˆindexï¼‰ä¸­ã€‚
ç´¢å¼•å°±åƒæ˜¯æ•°æ®åº“ã€‚
æ–‡æ¡£ æ–‡æ¡£æ˜¯ es çš„å®ä½“ã€‚ç”±å­—æ®µæ„æˆï¼Œæ¯ä¸ªå­—æ®µåŒ…å«å­—æ®µåå’Œä¸€ä¸ªæˆ–è€…å¤šä¸ªå­—æ®µå€¼ã€‚
æ–‡æ¡£å°±åƒæ•°æ®åº“ä¸­çš„ä¸€æ¡æ¡è®°å½•ã€‚
ç±»å‹ æ¯ä¸ªæ–‡æ¡£éƒ½æœ‰ä¸€ä¸ªç±»å‹ä¸ä¹‹ç›¸å¯¹åº”ã€‚
ç±»å‹å°±åƒæ•°æ®åº“ä¸­çš„è¡¨ã€‚
Map æ‰€æœ‰æ–‡æ¡£åœ¨è¢«å†™å…¥åˆ° es ä¸­ï¼Œéƒ½ä¼šè¢«åˆ†æã€‚ç”±ç”¨æˆ·è®¾ç½®ä¸€äº›å‚æ•°å†³å®šå¦‚ä½•åˆ†å‰²è¯æ¡ã€å“ªäº›å­—åº”è¯¥è¢«è¿‡æ»¤æ‰ç­‰ç­‰ã€‚
èŠ‚ç‚¹ å•ä¸ª es æœåŠ¡å®ä¾‹å°±æ˜¯ä¸€ä¸ªèŠ‚ç‚¹ã€‚
é›†ç¾¤ å¤šä¸ªååŒå·¥ä½œçš„ es èŠ‚ç‚¹çš„é›†åˆå°±æ˜¯é›†ç¾¤ã€‚
åˆ†ç‰‡ es å°†æ•°æ®åˆ†æ•£åˆ°å¤šä¸ªç‰©ç†çš„ Lucene ç´¢å¼•ä¸Šï¼Œè¿™äº›ç‰©ç† Lucene ç´¢å¼•è¢«ç§°ä¸ºåˆ†ç‰‡ã€‚
å‰¯æœ¬ å‰¯æœ¬å°±æ˜¯æ¯ä¸ªåˆ†ç‰‡éƒ½åšå†—ä½™å¤„ç†ï¼Œä¸€ä¸ªå®•æœºä¹‹åï¼Œä¸å½±å“æœåŠ¡ã€‚
å¿«é€Ÿå…¥é—¨ å®‰è£… es çš„å®‰è£…å¾ˆç®€å•ï¼Œæˆ‘è¿™é‡Œä½¿ç”¨çš„æ˜¯ macï¼Œä¸‹è½½ä¸‹æ¥ zip åŒ…ï¼Œè§£å‹å³å¯ä½¿ç”¨ã€‚
[elasticsearch-6.2.4] pwd /Users/zhuzhenfeng/Documents/software/elasticsearch-6.2.4 [elasticsearch-6.2.4] ./bin/elasticsearch Java HotSpot(TM) 64-Bit Server VM warning: Option UseConcMarkSweepGC was deprecated in version 9....</p></section><footer class=entry-footer><span title="2018-05-20 14:17:07 +0000 UTC">May 20, 2018</span>&nbsp;Â·&nbsp;3 min&nbsp;Â·&nbsp;Theme PaperMod</footer><a class=entry-link aria-label="post link to elasticsearch" href=/post/elasticsearch/></a></article><article class=post-entry><header class=entry-header><h2>git å¸¸ç”¨æ“ä½œ</h2></header><section class=entry-content><p>æ•´ç†ä¸€ä¸‹å¸¸ç”¨çš„ git æ“ä½œï¼Œä¸ç”¨å†åˆ°å¤„æ‰¾äº†ã€‚
git æ”¾å¼ƒæœ¬åœ°ä¿®æ”¹ï¼Œå¼ºåˆ¶æ›´æ–° git fetch --all git reset --hard origin/master git ä¿®æ”¹è¿œç¨‹ä»“åº“åœ°å€ git remote set-url origin url cherry-pick å½“ä½ é€šè¿‡ä¸€ç•ªæŒ£æ‰ç»ˆäºæå®šä¸€ä¸ª bug,é¡ºæ‰‹æäº¤åˆ° git æœåŠ¡å™¨,å¿ƒé‡Œä¸€é˜µæš—çˆ½. è¿™æ—¶å‘ç°ä½ å½“å‰æ‰€åœ¨çš„åˆ†æ”¯æ˜¯ master !!!
è¿™ä¸ªåˆ†æ”¯ä¸æ˜¯å¼€å‘è€…ç”¨æ¥æäº¤ä»£ç çš„,å¯æƒœç°åœ¨å‰æ‰‹ä¹Ÿæ™šäº†.
å…ˆåˆ‡æ¢åˆ° master git checkout master git log å¤åˆ¶æäº¤çš„ commit id
åˆ‡æ¢åˆ° dev, cherry-pick
git checkout dev git cherry-pic ${commit_id} å¸¸ç”¨å¼€å‘æµç¨‹ git checkout -b feature1
git commit ä¹‹åï¼Œè¿›è¡Œ rebase
git pull â€“rebase
gca!
git rvm</p></section><footer class=entry-footer><span title="2018-05-14 10:04:02 +0000 UTC">May 14, 2018</span>&nbsp;Â·&nbsp;1 min&nbsp;Â·&nbsp;Theme PaperMod</footer><a class=entry-link aria-label="post link to git å¸¸ç”¨æ“ä½œ" href=/post/git/></a></article><article class=post-entry><header class=entry-header><h2>node çš„ cluster</h2></header><section class=entry-content><p>æˆ‘ä»¬çŸ¥é“ js æ˜¯è¿è¡Œå•çº¿ç¨‹çš„ï¼Œä¹Ÿå°±æ˜¯è¯´ä¸€ä¸ª node è¿›ç¨‹åªèƒ½è¿è¡Œåœ¨ä¸€ä¸ª cpu ä¸Šã€‚é‚£ä¹ˆå¦‚æœç”¨ node æ¥åš web server çš„è¯ï¼Œå°±æ— æ³•äº«å—åˆ°å¤šæ ¸è¿ç®—çš„å¥½å¤„ã€‚
ä¸€ä¸ªé—®é¢˜å°±æ˜¯ï¼š
å¦‚ä½•æ¦¨å¹²æœåŠ¡å™¨èµ„æºï¼Œåˆ©ç”¨å¤šæ ¸CPUçš„å¹¶å‘ä¼˜åŠ¿ã€‚ node å®˜æ–¹æä¾›çš„è§£å†³æ–¹æ¡ˆæ˜¯ clusterã€‚
1 cluster æ˜¯ä»€ä¹ˆ ç®€å•æ¥è¯´ï¼š
åœ¨æœåŠ¡å™¨ä¸ŠåŒæ—¶å¯åŠ¨å¤šä¸ªè¿›ç¨‹ã€‚ æ¯ä¸ªè¿›ç¨‹éƒ½è·‘çš„æ˜¯åŒä¸€ä»½æºç ã€‚ è¿™äº›è¿›ç¨‹å¯ä»¥åŒæ—¶ç›‘å¬ä¸€ä¸ªç«¯å£ã€‚ å…¶ä¸­ï¼š
è´Ÿè´£å¯åŠ¨å…¶ä»–è¿›ç¨‹çš„å«åš master è¿›ç¨‹ï¼Œä¸åšå…·ä½“å·¥ä½œï¼Œåªè´Ÿè´£å¯åŠ¨å…¶ä»–è¿›ç¨‹ã€‚ å…¶ä»–è¢«å¯åŠ¨çš„å« worker è¿›ç¨‹ã€‚ä»–ä»¬æ¥æ”¶è¯·æ±‚ï¼Œå¯¹å¤–æä¾›æœåŠ¡ã€‚ worker è¿›ç¨‹çš„æ•°é‡ä¸€èˆ¬æ ¹æ®æœåŠ¡å™¨çš„ cpu æ ¸æ•°æ¥å†³å®šï¼Œè¿™æ ·å°±å¯ä»¥å®Œç¾åˆ©ç”¨å¤šæ ¸èµ„æºã€‚ ä»¥ä¸‹æ˜¯å®˜æ–¹æ–‡æ¡£çš„ä¸€ä¸ªä¾‹å­ï¼š
const cluster = require('cluster'); const http = require('http'); const numCPUs = require('os').cpus().length; if (cluster.isMaster) { console.log(`ä¸»è¿›ç¨‹ ${process.pid} æ­£åœ¨è¿è¡Œ`); // è¡ç”Ÿå·¥ä½œè¿›ç¨‹ã€‚ for (let i = 0; i &lt; numCPUs; i++) { cluster....</p></section><footer class=entry-footer><span title="2018-05-05 15:45:47 +0000 UTC">May 5, 2018</span>&nbsp;Â·&nbsp;2 min&nbsp;Â·&nbsp;Theme PaperMod</footer><a class=entry-link aria-label="post link to node çš„ cluster" href=/post/node%E7%9A%84cluster/></a></article><footer class=page-footer><nav class=pagination><a class=prev href=/post/page/29/>Â« Prev Page</a>
<a class=next href=/post/page/31/>Next Page Â»</a></nav></footer></main><footer class=footer><span>&copy; 2022 <a href>PaperMod</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();var e=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView({behavior:"smooth"}),e==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${e}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>