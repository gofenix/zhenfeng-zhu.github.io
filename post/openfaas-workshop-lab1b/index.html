<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Openfaas Workshop Lab1b | PaperMod</title><meta name=keywords content="openfaas"><meta name=description content="Lab 1 - 用 Kubernetes 设置 OpenFaaS 
安装最新的 kubectl 使用下面的说明或官方文档为你的操作系统安装kubectl。
 Linux  export VER=$(curl -s https://storage.googleapis.com/kubernetes-release/release/stable.txt) curl -LO https://storage.googleapis.com/kubernetes-release/release/$VER/bin/linux/amd64/kubectl chmod +x kubectl mv kubectl /usr/local/bin/  MacOS  export VER=$(curl -s https://storage.googleapis.com/kubernetes-release/release/stable.txt) curl -LO https://storage.googleapis.com/kubernetes-release/release/$VER/bin/darwin/amd64/kubectl chmod +x kubectl mv kubectl /usr/local/bin/  Windows  export VER=$(curl -s https://storage.googleapis.com/kubernetes-release/release/stable.txt) curl -LO https://storage.googleapis.com/kubernetes-release/release/$VER/bin/windows/amd64/kubectl.exe chmod +x kubectl.exe mkdir -p $HOME/bin/ mv kubectl $HOME/bin/ 设置一个 Kubernetes 集群 你可以在使用 Kubernetes 的同时按照实验进行操作，但你可能需要沿途做一些小改动。网关的服务地址从http://gateway:8080改为http://gateway.openfaas:8080。这些差异已经尽可能地被记录下来，每个实验室都提供了替代方案。
在你的笔记本电脑上创建一个本地集群 k3s 使用 k3d 如果你的电脑上有 Docker，那么你可以使用 Rancher 实验室托管的k3d工具。它安装了一个轻量级的 Kubernetes 版本，叫做k3s，并在 Docker 容器中运行，这意味着它可以在任何有 Docker 的电脑上运行。"><meta name=author content="Theme PaperMod"><link rel=canonical href=/post/openfaas-workshop-lab1b/><link crossorigin=anonymous href=/assets/css/stylesheet.min.c88963fe2d79462000fd0fb1b3737783c32855d340583e4523343f8735c787f0.css integrity="sha256-yIlj/i15RiAA/Q+xs3N3g8MoVdNAWD5FIzQ/hzXHh/A=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.min.2840b7fccd34145847db71a290569594bdbdb00047097f75d6495d162f5d7dff.js integrity="sha256-KEC3/M00FFhH23GikFaVlL29sABHCX911kldFi9dff8=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=favicon.ico><link rel=icon type=image/png sizes=16x16 href=favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=favicon-32x32.png><link rel=apple-touch-icon href=apple-touch-icon.png><link rel=mask-icon href=safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><meta name=generator content="Hugo 0.97.3"><link rel=alternate hreflang=en href=/post/openfaas-workshop-lab1b/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><meta property="og:title" content="Openfaas Workshop Lab1b"><meta property="og:description" content="Lab 1 - 用 Kubernetes 设置 OpenFaaS 
安装最新的 kubectl 使用下面的说明或官方文档为你的操作系统安装kubectl。
 Linux  export VER=$(curl -s https://storage.googleapis.com/kubernetes-release/release/stable.txt) curl -LO https://storage.googleapis.com/kubernetes-release/release/$VER/bin/linux/amd64/kubectl chmod +x kubectl mv kubectl /usr/local/bin/  MacOS  export VER=$(curl -s https://storage.googleapis.com/kubernetes-release/release/stable.txt) curl -LO https://storage.googleapis.com/kubernetes-release/release/$VER/bin/darwin/amd64/kubectl chmod +x kubectl mv kubectl /usr/local/bin/  Windows  export VER=$(curl -s https://storage.googleapis.com/kubernetes-release/release/stable.txt) curl -LO https://storage.googleapis.com/kubernetes-release/release/$VER/bin/windows/amd64/kubectl.exe chmod +x kubectl.exe mkdir -p $HOME/bin/ mv kubectl $HOME/bin/ 设置一个 Kubernetes 集群 你可以在使用 Kubernetes 的同时按照实验进行操作，但你可能需要沿途做一些小改动。网关的服务地址从http://gateway:8080改为http://gateway.openfaas:8080。这些差异已经尽可能地被记录下来，每个实验室都提供了替代方案。
在你的笔记本电脑上创建一个本地集群 k3s 使用 k3d 如果你的电脑上有 Docker，那么你可以使用 Rancher 实验室托管的k3d工具。它安装了一个轻量级的 Kubernetes 版本，叫做k3s，并在 Docker 容器中运行，这意味着它可以在任何有 Docker 的电脑上运行。"><meta property="og:type" content="article"><meta property="og:url" content="/post/openfaas-workshop-lab1b/"><meta property="og:image" content="/post/openfaas-workshop-lab1b/https:/github.com/openfaas/media/raw/master/OpenFaaS_Magnet_3_1_png.png"><meta property="article:section" content="post"><meta property="article:published_time" content="2021-03-30T09:55:20+08:00"><meta property="article:modified_time" content="2021-03-30T09:55:20+08:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="/post/openfaas-workshop-lab1b/https:/github.com/openfaas/media/raw/master/OpenFaaS_Magnet_3_1_png.png"><meta name=twitter:title content="Openfaas Workshop Lab1b"><meta name=twitter:description content="Lab 1 - 用 Kubernetes 设置 OpenFaaS 
安装最新的 kubectl 使用下面的说明或官方文档为你的操作系统安装kubectl。
 Linux  export VER=$(curl -s https://storage.googleapis.com/kubernetes-release/release/stable.txt) curl -LO https://storage.googleapis.com/kubernetes-release/release/$VER/bin/linux/amd64/kubectl chmod +x kubectl mv kubectl /usr/local/bin/  MacOS  export VER=$(curl -s https://storage.googleapis.com/kubernetes-release/release/stable.txt) curl -LO https://storage.googleapis.com/kubernetes-release/release/$VER/bin/darwin/amd64/kubectl chmod +x kubectl mv kubectl /usr/local/bin/  Windows  export VER=$(curl -s https://storage.googleapis.com/kubernetes-release/release/stable.txt) curl -LO https://storage.googleapis.com/kubernetes-release/release/$VER/bin/windows/amd64/kubectl.exe chmod +x kubectl.exe mkdir -p $HOME/bin/ mv kubectl $HOME/bin/ 设置一个 Kubernetes 集群 你可以在使用 Kubernetes 的同时按照实验进行操作，但你可能需要沿途做一些小改动。网关的服务地址从http://gateway:8080改为http://gateway.openfaas:8080。这些差异已经尽可能地被记录下来，每个实验室都提供了替代方案。
在你的笔记本电脑上创建一个本地集群 k3s 使用 k3d 如果你的电脑上有 Docker，那么你可以使用 Rancher 实验室托管的k3d工具。它安装了一个轻量级的 Kubernetes 版本，叫做k3s，并在 Docker 容器中运行，这意味着它可以在任何有 Docker 的电脑上运行。"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":2,"name":"Posts","item":"/post/"},{"@type":"ListItem","position":3,"name":"Openfaas Workshop Lab1b","item":"/post/openfaas-workshop-lab1b/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Openfaas Workshop Lab1b","name":"Openfaas Workshop Lab1b","description":"Lab 1 - 用 Kubernetes 设置 OpenFaaS \n安装最新的 kubectl 使用下面的说明或官方文档为你的操作系统安装kubectl。\n Linux  export VER=$(curl -s https://storage.googleapis.com/kubernetes-release/release/stable.txt) curl -LO https://storage.googleapis.com/kubernetes-release/release/$VER/bin/linux/amd64/kubectl chmod +x kubectl mv kubectl /usr/local/bin/  MacOS  export VER=$(curl -s https://storage.googleapis.com/kubernetes-release/release/stable.txt) curl -LO https://storage.googleapis.com/kubernetes-release/release/$VER/bin/darwin/amd64/kubectl chmod +x kubectl mv kubectl /usr/local/bin/  Windows  export VER=$(curl -s https://storage.googleapis.com/kubernetes-release/release/stable.txt) curl -LO https://storage.googleapis.com/kubernetes-release/release/$VER/bin/windows/amd64/kubectl.exe chmod +x kubectl.exe mkdir -p $HOME/bin/ mv kubectl $HOME/bin/ 设置一个 Kubernetes 集群 你可以在使用 Kubernetes 的同时按照实验进行操作，但你可能需要沿途做一些小改动。网关的服务地址从http://gateway:8080改为http://gateway.openfaas:8080。这些差异已经尽可能地被记录下来，每个实验室都提供了替代方案。\n在你的笔记本电脑上创建一个本地集群 k3s 使用 k3d 如果你的电脑上有 Docker，那么你可以使用 Rancher 实验室托管的k3d工具。它安装了一个轻量级的 Kubernetes 版本，叫做k3s，并在 Docker 容器中运行，这意味着它可以在任何有 Docker 的电脑上运行。","keywords":["openfaas"],"articleBody":"Lab 1 - 用 Kubernetes 设置 OpenFaaS \n安装最新的 kubectl 使用下面的说明或官方文档为你的操作系统安装kubectl。\n Linux  export VER=$(curl -s https://storage.googleapis.com/kubernetes-release/release/stable.txt) curl -LO https://storage.googleapis.com/kubernetes-release/release/$VER/bin/linux/amd64/kubectl chmod +x kubectl mv kubectl /usr/local/bin/  MacOS  export VER=$(curl -s https://storage.googleapis.com/kubernetes-release/release/stable.txt) curl -LO https://storage.googleapis.com/kubernetes-release/release/$VER/bin/darwin/amd64/kubectl chmod +x kubectl mv kubectl /usr/local/bin/  Windows  export VER=$(curl -s https://storage.googleapis.com/kubernetes-release/release/stable.txt) curl -LO https://storage.googleapis.com/kubernetes-release/release/$VER/bin/windows/amd64/kubectl.exe chmod +x kubectl.exe mkdir -p $HOME/bin/ mv kubectl $HOME/bin/ 设置一个 Kubernetes 集群 你可以在使用 Kubernetes 的同时按照实验进行操作，但你可能需要沿途做一些小改动。网关的服务地址从http://gateway:8080改为http://gateway.openfaas:8080。这些差异已经尽可能地被记录下来，每个实验室都提供了替代方案。\n在你的笔记本电脑上创建一个本地集群 k3s 使用 k3d 如果你的电脑上有 Docker，那么你可以使用 Rancher 实验室托管的k3d工具。它安装了一个轻量级的 Kubernetes 版本，叫做k3s，并在 Docker 容器中运行，这意味着它可以在任何有 Docker 的电脑上运行。\n  安装 k3d\n  启动一个集群\n   k3d cluster create CLUSTER_NAME创建一个新的单节点集群（=1 个运行 k3s 的容器+1 个负载均衡器容器） 2.kubectl 的上下文会自动更新，你可以用kubectl config get-contexts来检查。 执行一些命令，如kubectl get pods --all-namespaces。 如果你想删除默认集群k3d cluster delete CLUSTER_NAME。  Docker for Mac  安装 Docker for Mac   请注意，Kubernetes 仅在 Docker for Mac 17.12 CE 及以上版本中可用。\n 使用 Minikube   要安装 Minikube，请根据你的平台从最新版本下载适当的安装程序。\n  现在运行 Minikube\n  minikube start minikube 虚拟机通过一个仅限主机的 IP 地址暴露给主机系统。用minikube ip检查这个 IP。 这是你以后将用于网关 URL 的 IP。\n 注意：Minikube 还需要一个 Hypervisor，如 VirtualBox 或 Hyperkit（在 MacOS 上）。按照 minikube 的说明和文件\n 在云上创建一个远程集群 你可以在云端创建一个远程集群，享受与本地开发一样的体验，同时节省 RAM/CPU 和电池。运行一个集群 1-2 天的费用是最低的。\n在 DigitalOcean 的 Kubernetes 服务上运行 你可以使用免费点数通过 DigitalOcean 的用户界面创建一个集群。\n然后 DigitalOcean 的仪表板将指导你如何配置你的kubectl和KUBECONFIG文件，以便在实验室中使用。\n 申请你的免费点数–30 天内有 50 美元的点数。  即使你已经申请了免费学分，一个 2-3 个节点的集群 24-48 小时的运行费用也是可以忽略不计的。\n点击仪表板左侧面板上的 Kubernetes，然后点击 启用有限访问\n_一旦登录，点击 Kubernetes_菜单项并创建一个集群。\n建议使用最新的 Kubernetes 版本，并选择离你最近的数据中心区域，以尽量减少延时。\n 在 添加节点池下  使用 2 个 4GB / 2vCPU\n 注意：如果需要，你可以在以后添加更多的容量\n   下载doctlCLI 并把它放在你的路径中。\n  在您的 DigitalOcean 仪表板上创建一个API 密钥\n  追踪您的 API 密钥（将其复制到剪贴板）。\n 认证 CLI  doctl auth init 粘贴你的 API 密钥\n 现在获得集群的名称。  $ doctl k8s cluster list GUID workshop-lon1 nyc1 1.13.5-do.1 provisioning workshop-lon1-1  保存一个配置文件，使kubectl指向新集群。  doctl k8s cluster kubeconfig save workshop-lon1 现在你需要切换你的 Kubernetes 上下文以指向新的集群。\n用kubectl config get-contexts找到集群名称，如果它没有突出显示，则输入kubectl config set-context 。\n在 GKE（谷歌 Kubernetes 引擎）上运行 登录到谷歌云，创建一个项目，并为其启用计费。如果你没有账户，你可以在这里注册，获得免费点数。\n安装Google Cloud SDK - 这将使gcloud和kubectl命令可用。 对于 Windows，请按照文档中的说明。\n安装 gcloud 命令行工具后，用gcloud init配置你的项目，并设置默认项目、计算区域和区域（用你自己的项目替换PROJECT_ID）。\ngcloud config set project PROJECT_ID gcloud config set compute/region us-central1 gcloud config set compute/zone us-central1-a 启用 Kubernetes 服务。\ngcloud services enable container.googleapis.com 安装 kubectl。\ngcloud components install kubectl 创建一个 Kubernetes 集群。\n$ gcloud container clusters create openfaas \\ --zone=us-central1-a \\ --num-nodes=1 \\ --machine-type=n1-standard-2 \\ --disk-size=30 \\ --no-enable-cloud-logging 为 kubectl设置凭证。\ngcloud container clusters get-credentials openfaas 创建一个集群管理员角色绑定:\n$ kubectl create clusterrolebinding \"cluster-admin-$(whoami)\" \\ --clusterrole=cluster-admin \\ --user=\"$(gcloud config get-value core/account)\" 现在验证kubectl已经配置到 GKE 集群。\n$ kubectl get nodes NAME STATUS ROLES AGE VERSION gke-name-default-pool-eceef152-qjmt Ready  1h v1.10.7-gke.2 部署 OpenFaaS 部署 OpenFaaS 的说明会时常改变，因为我们努力使其更加简单。\n安装 OpenFaaS 有三种方式来安装 OpenFaaS，你可以选择对你和你的团队有意义的方式。在这个研讨会上，我们将使用官方的安装程序arkade。\n  arkade应用安装 - arkade 使用其官方舵手图安装 OpenFaaS。它还可以通过用户友好的 CLI 提供其他软件，如cert-manager和nginx-ingress。这是最简单和最快速的方式来启动和运行。\n  舵手图 - 理智的默认值，易于通过 YAML 或 CLI 标志进行配置。安全选项，如 Helm 模板或 Helm 3，也适用于那些在限制性环境中工作的人。\n  普通 YAML 文件 - 硬编码的设置/值。像 Kustomize 这样的工具可以提供自定义设置\n  用arkade安装  获取 arkade  对于 MacOS / Linux:\n# MacOS users may need to run \"bash\" first if this command fails curl -SLsf https://dl.get-arkade.dev/ | sudo sh 对于 Windows。\ncurl -SLsf https://dl.get-arkade.dev/ | sh  安装 OpenFaaS 应用程序  如果你使用的是提供 LoadBalancers 的管理云 Kubernetes 服务，那么运行以下内容。\narkade install openfaas --load-balancer  注意：--load-balancer标志的默认值是false，所以通过该标志，安装将向你的云提供商请求一个。\n 如果你使用的是本地 Kubernetes 集群或虚拟机，那么请运行。\narkade install openfaas 在后面的实验室中，我们将向你展示如何使用 Kubernetes Ingress 设置一个带有 TLS 的自定义域。\n或者用 helm 安装（高级） 如果你愿意，你可以使用helm chart的说明来安装 OpenFaaS。\n登录你的 OpenFaaS 网关  检查网关是否准备好了  kubectl rollout status -n openfaas deploy/gateway 如果你使用你的笔记本电脑，虚拟机，或任何其他类型的 Kubernetes 分布，请运行以下内容。\nkubectl port-forward svc/gateway -n openfaas 8080:8080 这个命令将打开一个从 Kubernetes 集群到本地计算机的隧道，这样你就可以访问 OpenFaaS 网关。还有其他方法可以访问 OpenFaaS，但这已经超出了本次研讨会的范围。\n你的网关 URL 是。http://127.0.0.1:8080\n如果你使用的是管理云 Kubernetes 服务，那么从下面的命令中的EXTERNAL-IP字段中获取 LoadBalancer 的 IP 地址或 DNS 条目。\nkubectl get svc -o wide gateway-external -n openfaas 你的 URL 将是上面的 IP 或 DNS 条目，端口为8080。\n 登录。  export OPENFAAS_URL=\"\" # Populate as above # This command retrieves your password PASSWORD=$(kubectl get secret -n openfaas basic-auth -o jsonpath=\"{.data.basic-auth-password}\" | base64 --decode; echo) # This command logs in and saves a file to ~/.openfaas/config.yml echo -n $PASSWORD | faas-cli login --username admin --password-stdin  检查faas-cli list是否工作。  faas-cli list 永久保存你的 OpenFaaS URL 编辑~/.bashrc或~/.bash_profile–如果该文件不存在，则创建它。\n现在添加以下内容–按照你上面看到的 URL 进行修改。\nexport OPENFAAS_URL=\"\" # populate as above 现在转到实验室 2\n","wordCount":"543","inLanguage":"en","image":"/post/openfaas-workshop-lab1b/https:/github.com/openfaas/media/raw/master/OpenFaaS_Magnet_3_1_png.png","datePublished":"2021-03-30T09:55:20+08:00","dateModified":"2021-03-30T09:55:20+08:00","author":{"@type":"Person","name":"Theme PaperMod"},"mainEntityOfPage":{"@type":"WebPage","@id":"/post/openfaas-workshop-lab1b/"},"publisher":{"@type":"Organization","name":"PaperMod","logo":{"@type":"ImageObject","url":"favicon.ico"}}}</script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8502076734034112" crossorigin=anonymous></script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8502076734034112" crossorigin=anonymous></script><header class=header><nav class=nav><div class=logo><a href accesskey=h title="PaperMod (Alt + H)">PaperMod</a>
<span class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li><li><a href=/fr/ title=French aria-label=:fr:>🇫🇷</a></li><li><a href=/fa/ title=Fa aria-label=Fa>Fa</a></li></ul></span></div><ul id=menu><li><a href=archives title=Archive><span>Archive</span></a></li><li><a href=categories/ title=Categories><span>Categories</span></a></li><li><a href=search/ title="Search (Alt + /)" accesskey=/><span>Search</span></a></li><li><a href=tags/ title=Tags><span>Tags</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href>Home</a>&nbsp;»&nbsp;<a href=/post/>Posts</a></div><h1 class=post-title>Openfaas Workshop Lab1b</h1><div class=post-meta><span title="2021-03-30 09:55:20 +0800 +0800">March 30, 2021</span>&nbsp;·&nbsp;3 min&nbsp;·&nbsp;Theme PaperMod&nbsp;|&nbsp;<a href=https://github.com/adityatelange/hugo-PaperMod/tree/exampleSite/content/post/openfaas-workshop-lab1b.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><figure class=entry-cover><img loading=lazy src=https://github.com/openfaas/media/raw/master/OpenFaaS_Magnet_3_1_png.png alt><p><text></p></figure><div class=toc><details><summary accesskey=c title="(Alt + C)"><span class=details>Table of Contents</span></summary><div class=inner><ul><li><a href=#lab-1---%e7%94%a8-kubernetes-%e8%ae%be%e7%bd%ae-openfaas aria-label="Lab 1 - 用 Kubernetes 设置 OpenFaaS">Lab 1 - 用 Kubernetes 设置 OpenFaaS</a><ul><li><a href=#%e5%ae%89%e8%a3%85%e6%9c%80%e6%96%b0%e7%9a%84-kubectl aria-label="安装最新的 kubectl">安装最新的 <code>kubectl</code></a></li><li><a href=#%e8%ae%be%e7%bd%ae%e4%b8%80%e4%b8%aa-kubernetes-%e9%9b%86%e7%be%a4 aria-label="设置一个 Kubernetes 集群">设置一个 Kubernetes 集群</a><ul><li><a href=#%e5%9c%a8%e4%bd%a0%e7%9a%84%e7%ac%94%e8%ae%b0%e6%9c%ac%e7%94%b5%e8%84%91%e4%b8%8a%e5%88%9b%e5%bb%ba%e4%b8%80%e4%b8%aa%e6%9c%ac%e5%9c%b0%e9%9b%86%e7%be%a4 aria-label=在你的笔记本电脑上创建一个本地集群>在你的笔记本电脑上创建一个本地集群</a><ul><li><a href=#_k3s-%e4%bd%bf%e7%94%a8-k3d_ aria-label="k3s 使用 k3d"><em>k3s 使用 k3d</em></a></li><li><a href=#_docker-for-mac_ aria-label="Docker for Mac"><em>Docker for Mac</em></a></li><li><a href=#_%e4%bd%bf%e7%94%a8-minikube_ aria-label="使用 Minikube"><em>使用 Minikube</em></a></li></ul></li><li><a href=#%e5%9c%a8%e4%ba%91%e4%b8%8a%e5%88%9b%e5%bb%ba%e4%b8%80%e4%b8%aa%e8%bf%9c%e7%a8%8b%e9%9b%86%e7%be%a4 aria-label=在云上创建一个远程集群>在云上创建一个远程集群</a><ul><li><a href=#_%e5%9c%a8-digitalocean-%e7%9a%84-kubernetes-%e6%9c%8d%e5%8a%a1%e4%b8%8a%e8%bf%90%e8%a1%8c_ aria-label="在 DigitalOcean 的 Kubernetes 服务上运行"><em>在 DigitalOcean 的 Kubernetes 服务上运行</em></a></li><li><a href=#_%e5%9c%a8-gke%e8%b0%b7%e6%ad%8c-kubernetes-%e5%bc%95%e6%93%8e%e4%b8%8a%e8%bf%90%e8%a1%8c_ aria-label="在 GKE（谷歌 Kubernetes 引擎）上运行"><em>在 GKE（谷歌 Kubernetes 引擎）上运行</em></a></li></ul></li></ul></li><li><a href=#%e9%83%a8%e7%bd%b2-openfaas aria-label="部署 OpenFaaS">部署 OpenFaaS</a><ul><li><a href=#%e5%ae%89%e8%a3%85-openfaas aria-label="安装 OpenFaaS">安装 OpenFaaS</a><ul><li><a href=#%e7%94%a8arkade%e5%ae%89%e8%a3%85 aria-label=用arkade安装>用<code>arkade</code>安装</a></li><li><a href=#%e6%88%96%e8%80%85%e7%94%a8-helm-%e5%ae%89%e8%a3%85%e9%ab%98%e7%ba%a7 aria-label="或者用 helm 安装（高级）">或者用 helm 安装（高级）</a></li></ul></li><li><a href=#%e7%99%bb%e5%bd%95%e4%bd%a0%e7%9a%84-openfaas-%e7%bd%91%e5%85%b3 aria-label="登录你的 OpenFaaS 网关">登录你的 OpenFaaS 网关</a></li><li><a href=#%e6%b0%b8%e4%b9%85%e4%bf%9d%e5%ad%98%e4%bd%a0%e7%9a%84-openfaas-url aria-label="永久保存你的 OpenFaaS URL">永久保存你的 OpenFaaS URL</a></li></ul></li></ul></li></ul></div></details></div><div class=post-content><h1 id=lab-1---用-kubernetes-设置-openfaas>Lab 1 - 用 Kubernetes 设置 OpenFaaS<a hidden class=anchor aria-hidden=true href=#lab-1---用-kubernetes-设置-openfaas>#</a></h1><p><img src=https://kubernetes.io/images/kubernetes-horizontal-color.png width=500px></img></p><h2 id=安装最新的-kubectl>安装最新的 <code>kubectl</code><a hidden class=anchor aria-hidden=true href=#安装最新的-kubectl>#</a></h2><p>使用下面的说明或<a href=https://kubernetes.io/docs/tasks/tools/install-kubectl/>官方文档</a>为你的操作系统安装<code>kubectl</code>。</p><ul><li>Linux</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=nb>export</span> <span class=nv>VER</span><span class=o>=</span><span class=k>$(</span>curl -s https://storage.googleapis.com/kubernetes-release/release/stable.txt<span class=k>)</span>
</span></span><span class=line><span class=cl>curl -LO https://storage.googleapis.com/kubernetes-release/release/<span class=nv>$VER</span>/bin/linux/amd64/kubectl
</span></span><span class=line><span class=cl>chmod +x kubectl
</span></span><span class=line><span class=cl>mv kubectl /usr/local/bin/
</span></span></code></pre></div><ul><li>MacOS</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=nb>export</span> <span class=nv>VER</span><span class=o>=</span><span class=k>$(</span>curl -s https://storage.googleapis.com/kubernetes-release/release/stable.txt<span class=k>)</span>
</span></span><span class=line><span class=cl>curl -LO https://storage.googleapis.com/kubernetes-release/release/<span class=nv>$VER</span>/bin/darwin/amd64/kubectl
</span></span><span class=line><span class=cl>chmod +x kubectl
</span></span><span class=line><span class=cl>mv kubectl /usr/local/bin/
</span></span></code></pre></div><ul><li>Windows</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=nb>export</span> <span class=nv>VER</span><span class=o>=</span><span class=k>$(</span>curl -s https://storage.googleapis.com/kubernetes-release/release/stable.txt<span class=k>)</span>
</span></span><span class=line><span class=cl>curl -LO https://storage.googleapis.com/kubernetes-release/release/<span class=nv>$VER</span>/bin/windows/amd64/kubectl.exe
</span></span><span class=line><span class=cl>chmod +x kubectl.exe
</span></span><span class=line><span class=cl>mkdir -p <span class=nv>$HOME</span>/bin/
</span></span><span class=line><span class=cl>mv kubectl <span class=nv>$HOME</span>/bin/
</span></span></code></pre></div><h2 id=设置一个-kubernetes-集群>设置一个 Kubernetes 集群<a hidden class=anchor aria-hidden=true href=#设置一个-kubernetes-集群>#</a></h2><p>你可以在使用 Kubernetes 的同时按照实验进行操作，但你可能需要沿途做一些小改动。网关的服务地址从<code>http://gateway:8080</code>改为<code>http://gateway.openfaas:8080</code>。这些差异已经尽可能地被记录下来，每个实验室都提供了替代方案。</p><h3 id=在你的笔记本电脑上创建一个本地集群>在你的笔记本电脑上创建一个本地集群<a hidden class=anchor aria-hidden=true href=#在你的笔记本电脑上创建一个本地集群>#</a></h3><h4 id=_k3s-使用-k3d_><em>k3s 使用 k3d</em><a hidden class=anchor aria-hidden=true href=#_k3s-使用-k3d_>#</a></h4><p>如果你的电脑上有 Docker，那么你可以使用 Rancher 实验室托管的<code>k3d</code>工具。它安装了一个轻量级的 Kubernetes 版本，叫做<code>k3s</code>，并在 Docker 容器中运行，这意味着它可以在任何有 Docker 的电脑上运行。</p><ul><li><p><a href=https://github.com/rancher/k3d>安装 k3d</a></p></li><li><p>启动一个集群</p></li></ul><ol><li><code>k3d cluster create CLUSTER_NAME</code>创建一个新的单节点集群（=1 个运行 k3s 的容器+1 个负载均衡器容器）</li><li>2.kubectl 的上下文会自动更新，你可以用<code>kubectl config get-contexts</code>来检查。</li><li>执行一些命令，如<code>kubectl get pods --all-namespaces</code>。
如果你想删除默认集群<code>k3d cluster delete CLUSTER_NAME</code>。</li></ol><h4 id=_docker-for-mac_><em>Docker for Mac</em><a hidden class=anchor aria-hidden=true href=#_docker-for-mac_>#</a></h4><ul><li><a href=https://docs.docker.com/v17.12/docker-for-mac/install/>安装 Docker for Mac</a></li></ul><blockquote><p>请注意，Kubernetes 仅在 Docker for Mac 17.12 CE 及以上版本中可用。</p></blockquote><h4 id=_使用-minikube_><em>使用 Minikube</em><a hidden class=anchor aria-hidden=true href=#_使用-minikube_>#</a></h4><ul><li><p>要安装 Minikube，请根据你的平台从<a href=https://github.com/kubernetes/minikube/releases>最新版本</a>下载适当的安装程序。</p></li><li><p>现在运行 Minikube</p></li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>minikube start
</span></span></code></pre></div><p>minikube 虚拟机通过一个仅限主机的 IP 地址暴露给主机系统。用<code>minikube ip</code>检查这个 IP。
这是你以后将用于网关 URL 的 IP。</p><blockquote><p>注意：Minikube 还需要一个 Hypervisor，如 VirtualBox 或 Hyperkit（在 MacOS 上）。按照 minikube 的说明和文件</p></blockquote><h3 id=在云上创建一个远程集群>在云上创建一个远程集群<a hidden class=anchor aria-hidden=true href=#在云上创建一个远程集群>#</a></h3><p>你可以在云端创建一个远程集群，享受与本地开发一样的体验，同时节省 RAM/CPU 和电池。运行一个集群 1-2 天的费用是最低的。</p><h4 id=_在-digitalocean-的-kubernetes-服务上运行_><em>在 DigitalOcean 的 Kubernetes 服务上运行</em><a hidden class=anchor aria-hidden=true href=#_在-digitalocean-的-kubernetes-服务上运行_>#</a></h4><p>你可以使用免费点数通过 DigitalOcean 的用户界面创建一个集群。</p><p>然后 DigitalOcean 的仪表板将指导你如何配置你的<code>kubectl</code>和<code>KUBECONFIG</code>文件，以便在实验室中使用。</p><ul><li><a href=https://m.do.co/c/8d4e75e9886f>申请你的免费点数&ndash;30 天内有 50 美元的点数。</a></li></ul><p>即使你已经申请了免费学分，一个 2-3 个节点的集群 24-48 小时的运行费用也是可以忽略不计的。</p><p><em>点击仪表板左侧面板上的 Kubernetes</em>，然后点击 <code>启用有限访问</code></p><p>_一旦登录，点击 Kubernetes_菜单项并创建一个集群。</p><p>建议使用最新的 Kubernetes 版本，并选择离你最近的数据中心区域，以尽量减少延时。</p><ul><li>在 <code>添加节点池</code>下</li></ul><p>使用 2 个 4GB / 2vCPU</p><blockquote><p>注意：如果需要，你可以在以后添加更多的容量</p></blockquote><ul><li><p>下载<a href=https://github.com/digitalocean/doctl#installing-doctl>doctl</a>CLI 并把它放在你的路径中。</p></li><li><p>在您的 DigitalOcean 仪表板上创建一个<a href=https://cloud.digitalocean.com/account/api/tokens/new>API 密钥</a></p></li></ul><p>追踪您的 API 密钥（将其复制到剪贴板）。</p><ul><li>认证 CLI</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>doctl auth init
</span></span></code></pre></div><p>粘贴你的 API 密钥</p><ul><li>现在获得集群的名称。</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>$ doctl k8s cluster list
</span></span><span class=line><span class=cl>GUID workshop-lon1 nyc1 1.13.5-do.1 provisioning workshop-lon1-1
</span></span></code></pre></div><ul><li>保存一个配置文件，使<code>kubectl</code>指向新集群。</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>doctl k8s cluster kubeconfig save workshop-lon1
</span></span></code></pre></div><p>现在你需要切换你的 Kubernetes 上下文以指向新的集群。</p><p>用<code>kubectl config get-contexts</code>找到集群名称，如果它没有突出显示，则输入<code>kubectl config set-context &lt;context-name></code>。</p><h4 id=_在-gke谷歌-kubernetes-引擎上运行_><em>在 GKE（谷歌 Kubernetes 引擎）上运行</em><a hidden class=anchor aria-hidden=true href=#_在-gke谷歌-kubernetes-引擎上运行_>#</a></h4><p>登录到谷歌云，创建一个项目，并为其启用计费。如果你没有账户，你可以<a href=https://cloud.google.com/free/>在这里</a>注册，获得免费点数。</p><p>安装<a href=https://cloud.google.com/sdk/docs>Google Cloud SDK</a> - 这将使<code>gcloud</code>和<code>kubectl</code>命令可用。
对于 Windows，请按照<a href=https://cloud.google.com/sdk/docs/#windows>文档</a>中的说明。</p><p>安装 gcloud 命令行工具后，用<code>gcloud init</code>配置你的项目，并设置默认项目、计算区域和区域（用你自己的项目替换<code>PROJECT_ID</code>）。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>gcloud config <span class=nb>set</span> project PROJECT_ID
</span></span><span class=line><span class=cl>gcloud config <span class=nb>set</span> compute/region us-central1
</span></span><span class=line><span class=cl>gcloud config <span class=nb>set</span> compute/zone us-central1-a
</span></span></code></pre></div><p>启用 Kubernetes 服务。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>gcloud services <span class=nb>enable</span> container.googleapis.com
</span></span></code></pre></div><p>安装 kubectl。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>gcloud components install kubectl
</span></span></code></pre></div><p>创建一个 Kubernetes 集群。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>$ gcloud container clusters create openfaas <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--zone<span class=o>=</span>us-central1-a <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--num-nodes<span class=o>=</span><span class=m>1</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--machine-type<span class=o>=</span>n1-standard-2 <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--disk-size<span class=o>=</span><span class=m>30</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--no-enable-cloud-logging
</span></span></code></pre></div><p>为 <code>kubectl</code>设置凭证。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>gcloud container clusters get-credentials openfaas
</span></span></code></pre></div><p>创建一个集群管理员角色绑定:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>$ kubectl create clusterrolebinding <span class=s2>&#34;cluster-admin-</span><span class=k>$(</span>whoami<span class=k>)</span><span class=s2>&#34;</span> <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--clusterrole<span class=o>=</span>cluster-admin <span class=se>\
</span></span></span><span class=line><span class=cl><span class=se></span>--user<span class=o>=</span><span class=s2>&#34;</span><span class=k>$(</span>gcloud config get-value core/account<span class=k>)</span><span class=s2>&#34;</span>
</span></span></code></pre></div><p>现在验证<code>kubectl</code>已经配置到 GKE 集群。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-plain data-lang=plain><span class=line><span class=cl>$ kubectl get nodes
</span></span><span class=line><span class=cl>NAME                                   STATUS    ROLES     AGE       VERSION
</span></span><span class=line><span class=cl>gke-name-default-pool-eceef152-qjmt   Ready     &lt;none&gt;    1h        v1.10.7-gke.2
</span></span></code></pre></div><h2 id=部署-openfaas>部署 OpenFaaS<a hidden class=anchor aria-hidden=true href=#部署-openfaas>#</a></h2><p>部署 OpenFaaS 的说明会时常改变，因为我们努力使其更加简单。</p><h3 id=安装-openfaas>安装 OpenFaaS<a hidden class=anchor aria-hidden=true href=#安装-openfaas>#</a></h3><p>有三种方式来安装 OpenFaaS，你可以选择对你和你的团队有意义的方式。在这个研讨会上，我们将使用官方的安装程序<code>arkade</code>。</p><ul><li><p><code>arkade应用安装</code> - arkade 使用其官方舵手图安装 OpenFaaS。它还可以通过用户友好的 CLI 提供其他软件，如<code>cert-manager</code>和<code>nginx-ingress</code>。这是最简单和最快速的方式来启动和运行。</p></li><li><p>舵手图 - 理智的默认值，易于通过 YAML 或 CLI 标志进行配置。安全选项，如 <code>Helm 模板</code>或 <code>Helm 3</code>，也适用于那些在限制性环境中工作的人。</p></li><li><p>普通 YAML 文件 - 硬编码的设置/值。像 Kustomize 这样的工具可以提供自定义设置</p></li></ul><h4 id=用arkade安装>用<code>arkade</code>安装<a hidden class=anchor aria-hidden=true href=#用arkade安装>#</a></h4><ul><li>获取 arkade</li></ul><p>对于 MacOS / Linux:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=c1># MacOS users may need to run &#34;bash&#34; first if this command fails</span>
</span></span><span class=line><span class=cl>curl -SLsf https://dl.get-arkade.dev/ <span class=p>|</span> sudo sh
</span></span></code></pre></div><p>对于 Windows。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>curl -SLsf https://dl.get-arkade.dev/ <span class=p>|</span> sh
</span></span></code></pre></div><ul><li>安装 OpenFaaS 应用程序</li></ul><p>如果你使用的是提供 LoadBalancers 的管理云 Kubernetes 服务，那么运行以下内容。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>arkade install openfaas --load-balancer
</span></span></code></pre></div><blockquote><p>注意：<code>--load-balancer</code>标志的默认值是<code>false</code>，所以通过该标志，安装将向你的云提供商请求一个。</p></blockquote><p>如果你使用的是本地 Kubernetes 集群或虚拟机，那么请运行。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>arkade install openfaas
</span></span></code></pre></div><p>在后面的实验室中，我们将向你展示如何使用 Kubernetes Ingress 设置一个带有 TLS 的自定义域。</p><h4 id=或者用-helm-安装高级>或者用 helm 安装（高级）<a hidden class=anchor aria-hidden=true href=#或者用-helm-安装高级>#</a></h4><p>如果你愿意，你可以使用<a href=https://github.com/openfaas/faas-netes/blob/master/chart/openfaas/README.md>helm chart</a>的说明来安装 OpenFaaS。</p><h3 id=登录你的-openfaas-网关>登录你的 OpenFaaS 网关<a hidden class=anchor aria-hidden=true href=#登录你的-openfaas-网关>#</a></h3><ul><li>检查网关是否准备好了</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>kubectl rollout status -n openfaas deploy/gateway
</span></span></code></pre></div><p>如果你使用你的笔记本电脑，虚拟机，或任何其他类型的 Kubernetes 分布，请运行以下内容。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>kubectl port-forward svc/gateway -n openfaas 8080:8080
</span></span></code></pre></div><p>这个命令将打开一个从 Kubernetes 集群到本地计算机的隧道，这样你就可以访问 OpenFaaS 网关。还有其他方法可以访问 OpenFaaS，但这已经超出了本次研讨会的范围。</p><p>你的网关 URL 是。<code>http://127.0.0.1:8080</code></p><p>如果你使用的是管理云 Kubernetes 服务，那么从下面的命令中的<code>EXTERNAL-IP</code>字段中获取 LoadBalancer 的 IP 地址或 DNS 条目。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>kubectl get svc -o wide gateway-external -n openfaas
</span></span></code></pre></div><p>你的 URL 将是上面的 IP 或 DNS 条目，端口为<code>8080</code>。</p><ul><li>登录。</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=nb>export</span> <span class=nv>OPENFAAS_URL</span><span class=o>=</span><span class=s2>&#34;&#34;</span> <span class=c1># Populate as above</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># This command retrieves your password</span>
</span></span><span class=line><span class=cl><span class=nv>PASSWORD</span><span class=o>=</span><span class=k>$(</span>kubectl get secret -n openfaas basic-auth -o <span class=nv>jsonpath</span><span class=o>=</span><span class=s2>&#34;{.data.basic-auth-password}&#34;</span> <span class=p>|</span> base64 --decode<span class=p>;</span> <span class=nb>echo</span><span class=k>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># This command logs in and saves a file to ~/.openfaas/config.yml</span>
</span></span><span class=line><span class=cl><span class=nb>echo</span> -n <span class=nv>$PASSWORD</span> <span class=p>|</span> faas-cli login --username admin --password-stdin
</span></span></code></pre></div><ul><li>检查<code>faas-cli list</code>是否工作。</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl>faas-cli list
</span></span></code></pre></div><h3 id=永久保存你的-openfaas-url>永久保存你的 OpenFaaS URL<a hidden class=anchor aria-hidden=true href=#永久保存你的-openfaas-url>#</a></h3><p>编辑<code>~/.bashrc</code>或<code>~/.bash_profile</code>&ndash;如果该文件不存在，则创建它。</p><p>现在添加以下内容&ndash;按照你上面看到的 URL 进行修改。</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-sh data-lang=sh><span class=line><span class=cl><span class=nb>export</span> <span class=nv>OPENFAAS_URL</span><span class=o>=</span><span class=s2>&#34;&#34;</span> <span class=c1># populate as above</span>
</span></span></code></pre></div><p>现在转到<a href=lab2.md>实验室 2</a></p></div><footer class=post-footer><ul class=post-tags><li><a href=/tags/openfaas/>openfaas</a></li></ul><nav class=paginav><a class=prev href=/post/openfaas-workshop-lab2/><span class=title>« Prev Page</span><br><span>Openfaas Workshop Lab2</span></a>
<a class=next href=/post/openfaas-workshop-lab1/><span class=title>Next Page »</span><br><span>Openfaas Workshop Lab1</span></a></nav><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share Openfaas Workshop Lab1b on twitter" href="https://twitter.com/intent/tweet/?text=Openfaas%20Workshop%20Lab1b&url=%2fpost%2fopenfaas-workshop-lab1b%2f&hashtags=openfaas"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Openfaas Workshop Lab1b on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=%2fpost%2fopenfaas-workshop-lab1b%2f&title=Openfaas%20Workshop%20Lab1b&summary=Openfaas%20Workshop%20Lab1b&source=%2fpost%2fopenfaas-workshop-lab1b%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Openfaas Workshop Lab1b on reddit" href="https://reddit.com/submit?url=%2fpost%2fopenfaas-workshop-lab1b%2f&title=Openfaas%20Workshop%20Lab1b"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Openfaas Workshop Lab1b on facebook" href="https://facebook.com/sharer/sharer.php?u=%2fpost%2fopenfaas-workshop-lab1b%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Openfaas Workshop Lab1b on whatsapp" href="https://api.whatsapp.com/send?text=Openfaas%20Workshop%20Lab1b%20-%20%2fpost%2fopenfaas-workshop-lab1b%2f"><svg viewBox="0 0 512 512"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Openfaas Workshop Lab1b on telegram" href="https://telegram.me/share/url?text=Openfaas%20Workshop%20Lab1b&url=%2fpost%2fopenfaas-workshop-lab1b%2f"><svg viewBox="2 2 28 28"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer></article></main><footer class=footer><span>&copy; 2022 <a href>PaperMod</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://git.io/hugopapermod rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(t){t.preventDefault();var e=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(e)}']`).scrollIntoView({behavior:"smooth"}),e==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${e}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script><script>document.querySelectorAll("pre > code").forEach(t=>{const n=t.parentNode.parentNode,e=document.createElement("button");e.classList.add("copy-code"),e.innerText="copy";function s(){e.innerText="copied!",setTimeout(()=>{e.innerText="copy"},2e3)}e.addEventListener("click",o=>{if("clipboard"in navigator){navigator.clipboard.writeText(t.textContent),s();return}const e=document.createRange();e.selectNodeContents(t);const n=window.getSelection();n.removeAllRanges(),n.addRange(e);try{document.execCommand("copy"),s()}catch(e){}n.removeRange(e)}),n.classList.contains("highlight")?n.appendChild(e):n.parentNode.firstChild==n||(t.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName=="TABLE"?t.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(e):t.parentNode.appendChild(e))})</script></body></html>