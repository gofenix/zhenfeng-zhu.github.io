<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="我们常见的静态网站生成器有 Hugo、Hexo 等，程序员们经常会使用类似的工具去将自己的播客托管到 github pages。前段时间研究了一下实现的方式，用 Elixir 简单实现了一个版本。
一个静态网站生成器的工作流程通常有如下几个步骤：
 读取源文件，一般是 markdown 格式的。 模板引擎的渲染 生成目标文件  接下来会从每个步骤来进行简单介绍。
最终版本的请参考：https://github.com/zhenfeng-zhu/ego， 欢迎 pr 和 issue。
极简 MVP 版本介绍 初始化 1  mix new ego   在 mix.exs 中添加依赖
 earmark 是将 markdown 转换为 html。 plug_cowboy 是提供本地预览 html 文件的 server。 json 是一个 json 解析库 指定以 escript 的方式启动  解析 markdown 文件 将一个 markdown 文件转为 html 也是比较简单的，首先读取，然后调用 Earmark.as_html!函数，就能将 markdown 转换为 html 了。
eg.
1 2 3 4 5  def gen_blogs(m) do m |&amp;gt; File."><title>如何从零开始写一个静态网站生成器</title><link rel=canonical href=https://example.com/p/%E5%A6%82%E4%BD%95%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E5%86%99%E4%B8%80%E4%B8%AA%E9%9D%99%E6%80%81%E7%BD%91%E7%AB%99%E7%94%9F%E6%88%90%E5%99%A8/><link rel=stylesheet href=/scss/style.min.b80bf249ce4a22cf55e8d7340a0b37a2f2c10f54f3a9a49cb94b694a2eb0bbea.css><meta property="og:title" content="如何从零开始写一个静态网站生成器"><meta property="og:description" content="我们常见的静态网站生成器有 Hugo、Hexo 等，程序员们经常会使用类似的工具去将自己的播客托管到 github pages。前段时间研究了一下实现的方式，用 Elixir 简单实现了一个版本。
一个静态网站生成器的工作流程通常有如下几个步骤：
 读取源文件，一般是 markdown 格式的。 模板引擎的渲染 生成目标文件  接下来会从每个步骤来进行简单介绍。
最终版本的请参考：https://github.com/zhenfeng-zhu/ego， 欢迎 pr 和 issue。
极简 MVP 版本介绍 初始化 1  mix new ego   在 mix.exs 中添加依赖
 earmark 是将 markdown 转换为 html。 plug_cowboy 是提供本地预览 html 文件的 server。 json 是一个 json 解析库 指定以 escript 的方式启动  解析 markdown 文件 将一个 markdown 文件转为 html 也是比较简单的，首先读取，然后调用 Earmark.as_html!函数，就能将 markdown 转换为 html 了。
eg.
1 2 3 4 5  def gen_blogs(m) do m |&amp;gt; File."><meta property="og:url" content="https://example.com/p/%E5%A6%82%E4%BD%95%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E5%86%99%E4%B8%80%E4%B8%AA%E9%9D%99%E6%80%81%E7%BD%91%E7%AB%99%E7%94%9F%E6%88%90%E5%99%A8/"><meta property="og:site_name" content="演示站点"><meta property="og:type" content="article"><meta property="article:section" content="Post"><meta property="article:published_time" content="2021-07-23T09:33:18+08:00"><meta property="article:modified_time" content="2021-07-23T09:33:18+08:00"><meta name=twitter:title content="如何从零开始写一个静态网站生成器"><meta name=twitter:description content="我们常见的静态网站生成器有 Hugo、Hexo 等，程序员们经常会使用类似的工具去将自己的播客托管到 github pages。前段时间研究了一下实现的方式，用 Elixir 简单实现了一个版本。
一个静态网站生成器的工作流程通常有如下几个步骤：
 读取源文件，一般是 markdown 格式的。 模板引擎的渲染 生成目标文件  接下来会从每个步骤来进行简单介绍。
最终版本的请参考：https://github.com/zhenfeng-zhu/ego， 欢迎 pr 和 issue。
极简 MVP 版本介绍 初始化 1  mix new ego   在 mix.exs 中添加依赖
 earmark 是将 markdown 转换为 html。 plug_cowboy 是提供本地预览 html 文件的 server。 json 是一个 json 解析库 指定以 escript 的方式启动  解析 markdown 文件 将一个 markdown 文件转为 html 也是比较简单的，首先读取，然后调用 Earmark.as_html!函数，就能将 markdown 转换为 html 了。
eg.
1 2 3 4 5  def gen_blogs(m) do m |&amp;gt; File."></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label=切换菜单>
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_huda2458f72ce188392d75c5d51cd8e24e_373_300x0_resize_box_3.png width=300 height=300 class=site-logo loading=lazy alt=Avatar></a></figure><div class=site-meta><h1 class=site-name><a href=/>演示站点</a></h1><h2 class=site-description>软件工程师 编程小语种爱好者，精通各种语言的hello world，目前沉迷Clojure、elixir Get Started工程师，止步于大量框架和包的readme 后端开发工程师，偶尔写一些前端，伪全栈 也是一名数据工程师，朝着SQL Boy进化</h2></div></header><ol class=social-menu><li><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank title=GitHub><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://twitter.com target=_blank title=Twitter><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-brand-twitter" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M22 4.01c-1 .49-1.98.689-3 .99-1.121-1.265-2.783-1.335-4.38-.737S11.977 6.323 12 8v1c-3.245.083-6.135-1.395-8-4 0 0-4.182 7.433 4 11-1.872 1.247-3.739 2.088-6 2 3.308 1.803 6.913 2.423 10.034 1.517 3.58-1.04 6.522-3.723 7.651-7.742a13.84 13.84.0 00.497-3.753C20.18 7.773 21.692 5.25 22 4.009z"/></svg></a></li></ol><ol class=menu id=main-menu><div class=menu-bottom-section><li id=i18n-switch><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-language" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 5h7"/><path d="M9 3v2c0 4.418-2.239 8-5 8"/><path d="M5 9c-.003 2.144 2.952 3.908 6.7 4"/><path d="M12 20l4-9 4 9"/><path d="M19.1 18h-6.2"/></svg><select name=language onchange="window.location.href=this.selectedOptions[0].value"><option value=https://example.com/en/>English</option><option value=https://example.com/ selected>中文</option><option value=https://example.com/ar/>عربي</option></select></li><li id=dark-mode-toggle><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg><span>暗色模式</span></li></div></ol></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><div class=article-title-wrapper><h2 class=article-title><a href=/p/%E5%A6%82%E4%BD%95%E4%BB%8E%E9%9B%B6%E5%BC%80%E5%A7%8B%E5%86%99%E4%B8%80%E4%B8%AA%E9%9D%99%E6%80%81%E7%BD%91%E7%AB%99%E7%94%9F%E6%88%90%E5%99%A8/>如何从零开始写一个静态网站生成器</a></h2></div><footer class=article-time><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg><time class=article-time--published>Jul 23, 2021</time></div><div><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg><time class=article-time--reading>阅读时长: 3 分钟</time></div></footer></div></header><section class=article-content><p>我们常见的静态网站生成器有 Hugo、Hexo 等，程序员们经常会使用类似的工具去将自己的播客托管到 github pages。前段时间研究了一下实现的方式，用 Elixir 简单实现了一个版本。</p><p>一个静态网站生成器的工作流程通常有如下几个步骤：</p><ol><li>读取源文件，一般是 markdown 格式的。</li><li>模板引擎的渲染</li><li>生成目标文件</li></ol><p>接下来会从每个步骤来进行简单介绍。</p><p>最终版本的请参考：<a class=link href=https://github.com/zhenfeng-zhu/ego target=_blank rel=noopener>https://github.com/zhenfeng-zhu/ego</a>， 欢迎 pr 和 issue。</p><h1 id=极简-mvp-版本介绍>极简 MVP 版本介绍</h1><h2 id=初始化>初始化</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-elixir data-lang=elixir><span class=line><span class=cl><span class=n>mix</span> <span class=n>new</span> <span class=n>ego</span>
</span></span></code></pre></td></tr></table></div></div><p>在 mix.exs 中添加依赖</p><ul><li>earmark 是将 markdown 转换为 html。</li><li>plug_cowboy 是提供本地预览 html 文件的 server。</li><li>json 是一个 json 解析库</li><li>指定以 escript 的方式启动</li></ul><h2 id=解析-markdown-文件>解析 markdown 文件</h2><p>将一个 markdown 文件转为 html 也是比较简单的，首先读取，然后调用 Earmark.as_html!函数，就能将 markdown 转换为 html 了。</p><p>eg.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-elixir data-lang=elixir><span class=line><span class=cl><span class=kd>def</span> <span class=n>gen_blogs</span><span class=p>(</span><span class=n>m</span><span class=p>)</span> <span class=k>do</span>
</span></span><span class=line><span class=cl>    <span class=n>m</span>
</span></span><span class=line><span class=cl>    <span class=o>|&gt;</span> <span class=nc>File</span><span class=o>.</span><span class=n>read!</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=o>|&gt;</span> <span class=nc>Earmark</span><span class=o>.</span><span class=n>as_html!</span><span class=p>()</span>
</span></span><span class=line><span class=cl><span class=k>end</span>
</span></span></code></pre></td></tr></table></div></div><p>更进一步的我们认为 markdown 的博客源文件都在当前项目目录下面，即<code>{current_dir()}/contents/</code>。如果要获取到所有的文件，可以使用 wildcard 函数。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-elixir data-lang=elixir><span class=line><span class=cl><span class=kd>def</span> <span class=n>blog_files</span> <span class=k>do</span>
</span></span><span class=line><span class=cl>    <span class=nc>Path</span><span class=o>.</span><span class=n>wildcard</span><span class=p>(</span><span class=s2>&#34;</span><span class=si>#{</span><span class=n>current_dir</span><span class=p>()</span><span class=si>}</span><span class=s2>/contents/*.md&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>end</span>
</span></span></code></pre></td></tr></table></div></div><p>因此就可以批量对目录下的所有 markdown 文件进行转换。</p><p>eg.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-elixir data-lang=elixir><span class=line><span class=cl><span class=n>blog_files</span><span class=p>()</span> <span class=o>|&gt;</span> <span class=nc>Enum</span><span class=o>.</span><span class=n>each</span><span class=p>(</span><span class=k>fn</span> <span class=n>m</span> <span class=o>-&gt;</span> <span class=n>gen_blogs</span><span class=p>(</span><span class=n>m</span><span class=p>)</span> <span class=k>end</span><span class=p>)</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=模板引擎渲染>模板引擎渲染</h2><p>既然用了 elixir，那就得使用 eex 来进行渲染了。</p><p>我们写一个最简单的 eex 模板文件，eg</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>html</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>head</span><span class=p>&gt;</span> <span class=p>&lt;/</span><span class=nt>head</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>article</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;markdown-body&#34;</span><span class=p>&gt;</span><span class=err>&lt;</span>%= @content %&gt;<span class=p>&lt;/</span><span class=nt>article</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>html</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><p>上述的模板文件中，content 是 markdown 生成的 html。</p><p>渲染 eex 也是很简单，eg</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-elixir data-lang=elixir><span class=line><span class=cl><span class=kd>def</span> <span class=n>blog_layout</span> <span class=k>do</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;</span><span class=si>#{</span><span class=n>current_dir</span><span class=p>()</span><span class=si>}</span><span class=s2>/layouts/blog.eex&#34;</span>
</span></span><span class=line><span class=cl><span class=k>end</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=kd>def</span> <span class=n>eval_blog</span><span class=p>(</span><span class=n>m</span><span class=p>)</span> <span class=k>do</span>
</span></span><span class=line><span class=cl>    <span class=n>title</span> <span class=o>=</span> <span class=n>get_title</span><span class=p>(</span><span class=n>m</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nc>EEx</span><span class=o>.</span><span class=n>eval_file</span><span class=p>(</span><span class=n>blog_layout</span><span class=p>(),</span>
</span></span><span class=line><span class=cl>      <span class=ss>assigns</span><span class=p>:</span> <span class=p>[</span><span class=ss>content</span><span class=p>:</span> <span class=n>m</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>end</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=生成目标文件>生成目标文件</h2><p>需要将上述的文件生成到文件系统中，我们先生成到 public 目录下面。</p><p>Elixir 的写入函数也是特别好用，只需要把 string 写入到目标文件即可，eg</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-elixir data-lang=elixir><span class=line><span class=cl><span class=kd>def</span> <span class=n>write_to</span><span class=p>(</span><span class=n>d</span><span class=p>,</span> <span class=n>m</span><span class=p>)</span> <span class=k>do</span>
</span></span><span class=line><span class=cl>    <span class=n>title</span> <span class=o>=</span> <span class=n>get_title</span><span class=p>(</span><span class=n>m</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nc>File</span><span class=o>.</span><span class=n>write!</span><span class=p>(</span><span class=s2>&#34;</span><span class=si>#{</span><span class=n>static_dir</span><span class=p>()</span><span class=si>}</span><span class=s2>/</span><span class=si>#{</span><span class=n>title</span><span class=si>}</span><span class=s2>.html&#34;</span><span class=p>,</span> <span class=n>d</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=k>end</span>
</span></span></code></pre></td></tr></table></div></div><h1 id=一些优化>一些优化</h1><h2 id=生成目录文件>生成目录文件</h2><p>生成 index 目录文件和生成 blog 的流程类似，我们需要解析每个 markdown 的文件名，然后填充到 index 的 layout 中即可。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>html</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>head</span><span class=p>&gt;</span> <span class=p>&lt;/</span><span class=nt>head</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>&lt;</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=p>&lt;</span><span class=nt>article</span> <span class=na>class</span><span class=o>=</span><span class=s>&#34;markdown-body&#34;</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=err>&lt;</span>%= for item <span class=p>&lt;</span><span class=nt>-</span> <span class=err>@</span><span class=na>list</span> <span class=na>do</span> <span class=err>%</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;</span><span class=nt>p</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>          <span class=p>&lt;</span><span class=nt>a</span> <span class=na>href</span><span class=o>=</span><span class=s>&#34;&lt;%= item[:href] %&gt;&#34;</span><span class=p>&gt;</span> <span class=err>&lt;</span>%= item[:title] %&gt; <span class=p>&lt;/</span><span class=nt>a</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=p>&lt;/</span><span class=nt>p</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>        <span class=err>&lt;</span>% end %&gt;
</span></span><span class=line><span class=cl>      <span class=p>&lt;/</span><span class=nt>article</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>    <span class=p>&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>html</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>s
</span></span></code></pre></td></tr></table></div></div><p>注意在生成目录的时候，一定要指定目标博客的地址，因此要对目录加一个<code>&lt;a href> &lt;/a></code>的标签。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-elixir data-lang=elixir><span class=line><span class=cl>  <span class=kd>def</span> <span class=n>gen_index</span><span class=p>(</span><span class=n>blogs</span><span class=p>)</span> <span class=k>do</span>
</span></span><span class=line><span class=cl>    <span class=n>blogs</span>
</span></span><span class=line><span class=cl>    <span class=o>|&gt;</span> <span class=nc>Enum</span><span class=o>.</span><span class=n>map</span><span class=p>(</span><span class=k>fn</span> <span class=n>m</span> <span class=o>-&gt;</span> <span class=n>m</span> <span class=o>|&gt;</span> <span class=n>get_title</span><span class=p>()</span> <span class=o>|&gt;</span> <span class=n>build_title_with_href</span><span class=p>()</span> <span class=k>end</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=o>|&gt;</span> <span class=n>eval_index</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=o>|&gt;</span> <span class=n>write_to</span><span class=p>(</span><span class=s2>&#34;index&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=k>end</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>def</span> <span class=n>build_title_with_href</span><span class=p>(</span><span class=n>title</span><span class=p>)</span> <span class=k>do</span>
</span></span><span class=line><span class=cl>    <span class=p>%{</span><span class=ss>:title</span> <span class=o>=&gt;</span> <span class=n>title</span><span class=p>,</span> <span class=ss>:href</span> <span class=o>=&gt;</span> <span class=n>get_href</span><span class=p>(</span><span class=n>title</span><span class=p>)}</span>
</span></span><span class=line><span class=cl>  <span class=k>end</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>def</span> <span class=n>get_href</span><span class=p>(</span><span class=n>title</span><span class=p>)</span> <span class=k>do</span>
</span></span><span class=line><span class=cl>    <span class=s2>&#34;</span><span class=si>#{</span><span class=nc>EgoConfig</span><span class=o>.</span><span class=n>domain</span><span class=p>()</span><span class=si>}</span><span class=s2>/</span><span class=si>#{</span><span class=n>title</span><span class=si>}</span><span class=s2>.html&#34;</span>
</span></span><span class=line><span class=cl>  <span class=k>end</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=kd>def</span> <span class=n>eval_index</span><span class=p>(</span><span class=n>titles</span><span class=p>)</span> <span class=k>do</span>
</span></span><span class=line><span class=cl>    <span class=nc>EEx</span><span class=o>.</span><span class=n>eval_file</span><span class=p>(</span><span class=n>index_layout</span><span class=p>(),</span>
</span></span><span class=line><span class=cl>      <span class=ss>assigns</span><span class=p>:</span> <span class=p>[</span><span class=ss>t</span><span class=p>:</span> <span class=s2>&#34;zzf-blog&#34;</span><span class=p>,</span> <span class=ss>list</span><span class=p>:</span> <span class=n>titles</span><span class=p>]</span>
</span></span><span class=line><span class=cl>    <span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=k>end</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=加速构建>加速构建</h2><p>上面的构建流程有一点小小的问题，就是每个文件的生成都是串行的，我们可以加速一下。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-elixir data-lang=elixir><span class=line><span class=cl>    <span class=nc>Task</span><span class=o>.</span><span class=n>start_link</span><span class=p>(</span><span class=k>fn</span> <span class=o>-&gt;</span> <span class=n>blog_files</span><span class=p>()</span> <span class=o>|&gt;</span> <span class=n>gen_index</span><span class=p>()</span> <span class=k>end</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=n>blog_files</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=o>|&gt;</span> <span class=nc>Enum</span><span class=o>.</span><span class=n>map</span><span class=p>(</span><span class=k>fn</span> <span class=n>m</span> <span class=o>-&gt;</span> <span class=nc>Task</span><span class=o>.</span><span class=n>async</span><span class=p>(</span><span class=k>fn</span> <span class=o>-&gt;</span> <span class=n>gen_blogs</span><span class=p>(</span><span class=n>m</span><span class=p>)</span> <span class=k>end</span><span class=p>)</span> <span class=k>end</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=o>|&gt;</span> <span class=nc>Task</span><span class=o>.</span><span class=n>await_many</span><span class=p>()</span>
</span></span><span class=line><span class=cl>    <span class=o>|&gt;</span> <span class=nc>IO</span><span class=o>.</span><span class=n>inspect</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><p>让生成 index 的时候在后台执行，同时生成 blog 的时候，开启 async 模式，并 await 一下。</p><h2 id=本地预览>本地预览</h2><p>简单使用 plug 来做本地预览</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span><span class=lnt>21
</span><span class=lnt>22
</span><span class=lnt>23
</span><span class=lnt>24
</span><span class=lnt>25
</span><span class=lnt>26
</span><span class=lnt>27
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-elixir data-lang=elixir><span class=line><span class=cl><span class=kd>defmodule</span> <span class=nc>MyPlug</span> <span class=k>do</span>
</span></span><span class=line><span class=cl>  <span class=kn>use</span> <span class=nc>Plug.Router</span>
</span></span><span class=line><span class=cl>  <span class=kn>import</span> <span class=nc>Plug.Conn</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=n>plug</span><span class=p>(</span><span class=ss>:match</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=n>plug</span><span class=p>(</span><span class=ss>:dispatch</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=n>get</span> <span class=s2>&#34;/&#34;</span> <span class=k>do</span>
</span></span><span class=line><span class=cl>    <span class=n>conn</span>
</span></span><span class=line><span class=cl>    <span class=o>|&gt;</span> <span class=n>put_resp_content_type</span><span class=p>(</span><span class=s2>&#34;text/html&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=o>|&gt;</span> <span class=n>send_file</span><span class=p>(</span><span class=mi>200</span><span class=p>,</span> <span class=s2>&#34;public/index.html&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=k>end</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=n>get</span> <span class=s2>&#34;/:file&#34;</span> <span class=k>do</span>
</span></span><span class=line><span class=cl>    <span class=n>conn</span>
</span></span><span class=line><span class=cl>    <span class=o>|&gt;</span> <span class=n>put_resp_content_type</span><span class=p>(</span><span class=s2>&#34;text/html&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=o>|&gt;</span> <span class=n>send_file</span><span class=p>(</span><span class=mi>200</span><span class=p>,</span> <span class=s2>&#34;public/</span><span class=si>#{</span><span class=n>file</span><span class=si>}</span><span class=s2>&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=k>end</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=n>get</span> <span class=s2>&#34;favicon.ico&#34;</span> <span class=k>do</span>
</span></span><span class=line><span class=cl>    <span class=n>send_resp</span><span class=p>(</span><span class=n>conn</span><span class=p>,</span> <span class=mi>404</span><span class=p>,</span> <span class=s2>&#34;not found&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=k>end</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=n>match</span> <span class=n>_</span> <span class=k>do</span>
</span></span><span class=line><span class=cl>    <span class=n>send_resp</span><span class=p>(</span><span class=n>conn</span><span class=p>,</span> <span class=mi>404</span><span class=p>,</span> <span class=s2>&#34;not found&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>  <span class=k>end</span>
</span></span><span class=line><span class=cl><span class=k>end</span>
</span></span></code></pre></td></tr></table></div></div><p>通过访问域名，可以进到 index 文件，当点击目录的时候，就访问目标博客文件。</p><h2 id=美化>美化</h2><ol><li>添加代码高亮，</li></ol><p>在 head 中引入 highlight.js 即可。</p><p>eg.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>link</span>
</span></span><span class=line><span class=cl>  <span class=na>rel</span><span class=o>=</span><span class=s>&#34;stylesheet&#34;</span>
</span></span><span class=line><span class=cl>  <span class=na>href</span><span class=o>=</span><span class=s>&#34;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.1.0/build/styles/default.min.css&#34;</span>
</span></span><span class=line><span class=cl><span class=p>/&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;https://cdn.jsdelivr.net/gh/highlightjs/cdn-release@11.1.0/build/highlight.min.js&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nx>hljs</span><span class=p>.</span><span class=nx>highlightAll</span><span class=p>();</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><ol start=2><li>居中展示</li></ol><p>在 layout 文件中加上如下 css 样式即可。</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>meta</span> <span class=na>name</span><span class=o>=</span><span class=s>&#34;viewport&#34;</span> <span class=na>content</span><span class=o>=</span><span class=s>&#34;width=device-width, initial-scale=1&#34;</span> <span class=p>/&gt;</span>
</span></span><span class=line><span class=cl><span class=p>&lt;</span><span class=nt>style</span><span class=p>&gt;</span>
</span></span><span class=line><span class=cl>  <span class=p>.</span><span class=nc>markdown-body</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=k>box-sizing</span><span class=p>:</span> <span class=kc>border-box</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>min-width</span><span class=p>:</span> <span class=mi>200</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>max-width</span><span class=p>:</span> <span class=mi>980</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>margin</span><span class=p>:</span> <span class=mi>0</span> <span class=kc>auto</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=k>padding</span><span class=p>:</span> <span class=mi>45</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>  <span class=p>@</span><span class=k>media</span> <span class=o>(</span><span class=nt>max-width</span><span class=o>:</span> <span class=nt>767px</span><span class=o>)</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=p>.</span><span class=nc>markdown-body</span> <span class=p>{</span>
</span></span><span class=line><span class=cl>      <span class=k>padding</span><span class=p>:</span> <span class=mi>15</span><span class=kt>px</span><span class=p>;</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl>  <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>&lt;/</span><span class=nt>style</span><span class=p>&gt;</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=构建可执行文件>构建可执行文件</h2><p>通过 escript 来生成可执行文件</p><p>参考 <a class=link href=https://elixirschool.com/zh-hans/lessons/advanced/escripts/ target=_blank rel=noopener>https://elixirschool.com/zh-hans/lessons/advanced/escripts/</a></p><h2 id=丰富命令行>丰富命令行</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-elixir data-lang=elixir><span class=line><span class=cl>  <span class=kd>defp</span> <span class=n>parse_args</span><span class=p>(</span><span class=n>args</span><span class=p>)</span> <span class=k>do</span>
</span></span><span class=line><span class=cl>    <span class=k>case</span> <span class=n>hd</span><span class=p>(</span><span class=n>args</span><span class=p>)</span> <span class=k>do</span>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;server&#34;</span> <span class=o>-&gt;</span>
</span></span><span class=line><span class=cl>        <span class=n>start_server</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;build&#34;</span> <span class=o>-&gt;</span>
</span></span><span class=line><span class=cl>        <span class=nc>Mark</span><span class=o>.</span><span class=n>convert</span><span class=p>()</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>      <span class=s2>&#34;new&#34;</span> <span class=o>-&gt;</span>
</span></span><span class=line><span class=cl>        <span class=n>gen_template</span><span class=p>(</span><span class=n>args</span><span class=p>)</span>
</span></span><span class=line><span class=cl>    <span class=k>end</span>
</span></span><span class=line><span class=cl>  <span class=k>end</span>
</span></span></code></pre></td></tr></table></div></div><p>ego server 启动本地预览模式</p><p>ego build 就将本地的博客生成 html 文件</p><p>ego new site xxx 生成静态站点</p><h1 id=更多>更多</h1><p>elixir 写起来很丝滑，一个最终版本的请参考：<a class=link href=https://github.com/zhenfeng-zhu/ego target=_blank rel=noopener>https://github.com/zhenfeng-zhu/ego</a>，欢迎 pr 和 issue。</p><p>另外也给 elixir-ls 提了一个 pr，大家快去 conversation 呀，尽快让 merge 了：<a class=link href=https://github.com/elixir-lsp/elixir-ls/pull/574 target=_blank rel=noopener>https://github.com/elixir-lsp/elixir-ls/pull/574</a></p></section><footer class=article-footer><section class=article-copyright><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg><span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><div class=disqus-container><div id=disqus_thread></div><script type=application/javascript>window.disqus_config=function(){},function(){if(["localhost","127.0.0.1"].indexOf(window.location.hostname)!=-1){document.getElementById("disqus_thread").innerHTML="Disqus comments not available by default when the website is previewed locally.";return}var t=document,e=t.createElement("script");e.async=!0,e.src="//hugo-theme-stack.disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript><a href=https://disqus.com class=dsq-brlink>comments powered by <span class=logo-disqus>Disqus</span></a></div><style>.disqus-container{background-color:var(--card-background);border-radius:var(--card-border-radius);box-shadow:var(--shadow-l1);padding:var(--card-padding)}</style><script>window.addEventListener("onColorSchemeChange",e=>{DISQUS&&DISQUS.reset({reload:!0})})</script><footer class=site-footer><section class=copyright>&copy;
1993 -
2022 演示站点</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>主题 <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.10.0>Stack</a></b> 由 <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a> 设计</section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.css integrity="sha256-c0uckgykQ9v5k+IqViZOZKc47Jn7KQil4/MP3ySA3F8=" crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.css integrity="sha256-SBLU4vv6CA6lHsZ1XyTdhyjJxCjPif/TRkjnsyGAGnE=" crossorigin=anonymous></main><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentcolor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">目录</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#初始化>初始化</a></li><li><a href=#解析-markdown-文件>解析 markdown 文件</a></li><li><a href=#模板引擎渲染>模板引擎渲染</a></li><li><a href=#生成目标文件>生成目标文件</a></li></ol><ol><li><a href=#生成目录文件>生成目录文件</a></li><li><a href=#加速构建>加速构建</a></li><li><a href=#本地预览>本地预览</a></li><li><a href=#美化>美化</a></li><li><a href=#构建可执行文件>构建可执行文件</a></li><li><a href=#丰富命令行>丰富命令行</a></li></ol></nav></div></section></aside></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.5/dist/vibrant.min.js integrity="sha256-5NovOZc4iwiAWTYIFiIM7DxKUXKWvpVEuMEPLzcm5/g=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.js defer></script>
<script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script></body></html>